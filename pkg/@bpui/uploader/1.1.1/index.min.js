/*!
 * bpui uploader v1.1.1
 * Copyright (c) 2021 Copyright bpoint.lee@live.com All Rights Reserved.
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@bpui/dialog"),require("febs-browser"),require("vue"),require("@bpui/libs")):"function"==typeof define&&define.amd?define(["@bpui/dialog","febs-browser","vue","@bpui/libs"],e):(t=t||self).bpUploader=e(t.bpDialog,t.febs,t.Vue,t.bpLibs)}(this,(function(t,e,i,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var a=function(t){try{return!!t()}catch(t){return!0}},s=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(t,e){return t(e={exports:{}},e.exports),e.exports}var u=function(t){return t&&t.Math==Math&&t},h=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof l&&l)||function(){return this}()||Function("return this")(),f=/#|\.prototype\./,p=function(t,e){var i=g[d(t)];return i==m||i!=v&&("function"==typeof e?a(e):!!e)},d=p.normalize=function(t){return String(t).replace(f,".").toLowerCase()},g=p.data={},v=p.NATIVE="N",m=p.POLYFILL="P",y=p,b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},w=h.document,_=b(w)&&b(w.createElement),S=function(t){return _?w.createElement(t):{}},x=!s&&!a((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),P=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},O=function(t,e){if(!b(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!b(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!b(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!b(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")},I=Object.defineProperty,C={f:s?I:function(t,e,i){if(P(t),e=O(e,!0),P(i),x)try{return I(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},R=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},A=s?function(t,e,i){return C.f(t,e,R(1,i))}:function(t,e,i){return t[e]=i,t},E=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},T=function(t){return Object(E(t))},L={}.hasOwnProperty,M=Object.hasOwn||function(t,e){return L.call(T(t),e)},F=function(t,e){try{A(h,t,e)}catch(i){h[t]=e}return e},j=h["__core-js_shared__"]||F("__core-js_shared__",{}),U=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(t){return U.call(t)});var D,k,N,z=j.inspectSource,H=h.WeakMap,B="function"==typeof H&&/native code/.test(z(H)),W=c((function(t){(t.exports=function(t,e){return j[t]||(j[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.2",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),q=0,V=Math.random(),Y=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++q+V).toString(36)},X=W("keys"),G=function(t){return X[t]||(X[t]=Y(t))},J={},K=h.WeakMap;if(B||j.state){var Z=j.state||(j.state=new K),Q=Z.get,tt=Z.has,et=Z.set;D=function(t,e){if(tt.call(Z,t))throw new TypeError("Object already initialized");return e.facade=t,et.call(Z,t,e),e},k=function(t){return Q.call(Z,t)||{}},N=function(t){return tt.call(Z,t)}}else{var it=G("state");J[it]=!0,D=function(t,e){if(M(t,it))throw new TypeError("Object already initialized");return e.facade=t,A(t,it,e),e},k=function(t){return M(t,it)?t[it]:{}},N=function(t){return M(t,it)}}var rt,nt={set:D,get:k,has:N,enforce:function(t){return N(t)?k(t):D(t,{})},getterFor:function(t){return function(e){var i;if(!b(e)||(i=k(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},ot=c((function(t){var e=nt.get,i=nt.enforce,r=String(String).split("String");(t.exports=function(t,e,n,o){var a,s=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof e||M(n,"name")||A(n,"name",e),(a=i(n)).source||(a.source=r.join("string"==typeof e?e:""))),t!==h?(s?!c&&t[e]&&(l=!0):delete t[e],l?t[e]=n:A(t,e,n)):l?t[e]=n:F(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||z(this)}))})),at={}.toString,st=function(t){return at.call(t).slice(8,-1)},lt=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,r){return P(i),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(i,r):i.__proto__=r,i}}():void 0),ct=function(t,e,i){var r,n;return lt&&"function"==typeof(r=e.constructor)&&r!==i&&b(n=r.prototype)&&n!==i.prototype&&lt(t,n),t},ut="".split,ht=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==st(t)?ut.call(t,""):Object(t)}:Object,ft=function(t){return ht(E(t))},pt=Math.ceil,dt=Math.floor,gt=function(t){return isNaN(t=+t)?0:(t>0?dt:pt)(t)},vt=Math.min,mt=function(t){return t>0?vt(gt(t),9007199254740991):0},yt=Math.max,bt=Math.min,wt=function(t,e){var i=gt(t);return i<0?yt(i+e,0):bt(i,e)},_t=function(t){return function(e,i,r){var n,o=ft(e),a=mt(o.length),s=wt(r,a);if(t&&i!=i){for(;a>s;)if((n=o[s++])!=n)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===i)return t||s||0;return!t&&-1}},St={includes:_t(!0),indexOf:_t(!1)},xt=St.indexOf,Pt=function(t,e){var i,r=ft(t),n=0,o=[];for(i in r)!M(J,i)&&M(r,i)&&o.push(i);for(;e.length>n;)M(r,i=e[n++])&&(~xt(o,i)||o.push(i));return o},Ot=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],It=Object.keys||function(t){return Pt(t,Ot)},Ct=s?Object.defineProperties:function(t,e){P(t);for(var i,r=It(e),n=r.length,o=0;n>o;)C.f(t,i=r[o++],e[i]);return t},Rt=h,At=function(t){return"function"==typeof t?t:void 0},Et=function(t,e){return arguments.length<2?At(Rt[t])||At(h[t]):Rt[t]&&Rt[t][e]||h[t]&&h[t][e]},Tt=Et("document","documentElement"),Lt=G("IE_PROTO"),Mt=function(){},Ft=function(t){return"<script>"+t+"<\/script>"},jt=function(){try{rt=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;jt=rt?function(t){t.write(Ft("")),t.close();var e=t.parentWindow.Object;return t=null,e}(rt):((e=S("iframe")).style.display="none",Tt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ft("document.F=Object")),t.close(),t.F);for(var i=Ot.length;i--;)delete jt.prototype[Ot[i]];return jt()};J[Lt]=!0;var Ut=Object.create||function(t,e){var i;return null!==t?(Mt.prototype=P(t),i=new Mt,Mt.prototype=null,i[Lt]=t):i=jt(),void 0===e?i:Ct(i,e)},$t=Ot.concat("length","prototype"),Dt={f:Object.getOwnPropertyNames||function(t){return Pt(t,$t)}},kt={}.propertyIsEnumerable,Nt=Object.getOwnPropertyDescriptor,zt={f:Nt&&!kt.call({1:2},1)?function(t){var e=Nt(this,t);return!!e&&e.enumerable}:kt},Ht=Object.getOwnPropertyDescriptor,Bt={f:s?Ht:function(t,e){if(t=ft(t),e=O(e,!0),x)try{return Ht(t,e)}catch(t){}if(M(t,e))return R(!zt.f.call(t,e),t[e])}},Wt="\t\n\v\f\r                　\u2028\u2029\ufeff",qt="["+Wt+"]",Vt=RegExp("^"+qt+qt+"*"),Yt=RegExp(qt+qt+"*$"),Xt=function(t){return function(e){var i=String(E(e));return 1&t&&(i=i.replace(Vt,"")),2&t&&(i=i.replace(Yt,"")),i}},Gt={start:Xt(1),end:Xt(2),trim:Xt(3)},Jt=Dt.f,Kt=Bt.f,Zt=C.f,Qt=Gt.trim,te=h.Number,ee=te.prototype,ie="Number"==st(Ut(ee)),re=function(t){var e,i,r,n,o,a,s,l,c=O(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=Qt(c)).charCodeAt(0))||45===e){if(88===(i=c.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+c}for(a=(o=c.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>n)return NaN;return parseInt(o,r)}return+c};if(y("Number",!te(" 0o1")||!te("0b1")||te("+0x1"))){for(var ne,oe=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof oe&&(ie?a((function(){ee.valueOf.call(i)})):"Number"!=st(i))?ct(new te(re(e)),i,oe):re(e)},ae=s?Jt(te):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),se=0;ae.length>se;se++)M(te,ne=ae[se])&&!M(oe,ne)&&Zt(oe,ne,Kt(te,ne));oe.prototype=ee,ee.constructor=oe,ot(h,"Number",oe)}var le={f:Object.getOwnPropertySymbols},ce=Et("Reflect","ownKeys")||function(t){var e=Dt.f(P(t)),i=le.f;return i?e.concat(i(t)):e},ue=function(t,e){for(var i=ce(e),r=C.f,n=Bt.f,o=0;o<i.length;o++){var a=i[o];M(t,a)||r(t,a,n(e,a))}},he=Bt.f,fe=function(t,e){var i,r,n,o,a,s=t.target,l=t.global,c=t.stat;if(i=l?h:c?h[s]||F(s,{}):(h[s]||{}).prototype)for(r in e){if(o=e[r],n=t.noTargetGet?(a=he(i,r))&&a.value:i[r],!y(l?r:s+(c?".":"#")+r,t.forced)&&void 0!==n){if(typeof o==typeof n)continue;ue(o,n)}(t.sham||n&&n.sham)&&A(o,"sham",!0),ot(i,r,o,t)}},pe=function(t,e){var i=[][t];return!!i&&a((function(){i.call(null,e||function(){throw 1},1)}))},de=St.indexOf,ge=[].indexOf,ve=!!ge&&1/[1].indexOf(1,-0)<0,me=pe("indexOf");fe({target:"Array",proto:!0,forced:ve||!me},{indexOf:function(t){return ve?ge.apply(this,arguments)||0:de(this,t,arguments.length>1?arguments[1]:void 0)}});var ye=Math.min,be=[].lastIndexOf,we=!!be&&1/[1].lastIndexOf(1,-0)<0,_e=pe("lastIndexOf"),Se=we||!_e?function(t){if(we)return be.apply(this,arguments)||0;var e=ft(this),i=mt(e.length),r=i-1;for(arguments.length>1&&(r=ye(r,gt(arguments[1]))),r<0&&(r=i+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:be;fe({target:"Array",proto:!0,forced:Se!==[].lastIndexOf},{lastIndexOf:Se});var xe=C.f,Pe=Function.prototype,Oe=Pe.toString,Ie=/^\s*function ([^ (]*)/;s&&!("name"in Pe)&&xe(Pe,"name",{configurable:!0,get:function(){try{return Oe.call(this).match(Ie)[1]}catch(t){return""}}});var Ce,Re,Ae=Et("navigator","userAgent")||"",Ee=h.process,Te=Ee&&Ee.versions,Le=Te&&Te.v8;Le?Re=(Ce=Le.split("."))[0]<4?1:Ce[0]+Ce[1]:Ae&&(!(Ce=Ae.match(/Edge\/(\d+)/))||Ce[1]>=74)&&(Ce=Ae.match(/Chrome\/(\d+)/))&&(Re=Ce[1]);var Me=Re&&+Re,Fe=!!Object.getOwnPropertySymbols&&!a((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Me&&Me<41})),je=Fe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ue=W("wks"),$e=h.Symbol,De=je?$e:$e&&$e.withoutSetter||Y,ke=function(t){return M(Ue,t)&&(Fe||"string"==typeof Ue[t])||(Fe&&M($e,t)?Ue[t]=$e[t]:Ue[t]=De("Symbol."+t)),Ue[t]},Ne={};Ne[ke("toStringTag")]="z";var ze="[object z]"===String(Ne),He=ke("toStringTag"),Be="Arguments"==st(function(){return arguments}()),We=ze?st:function(t){var e,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),He))?i:Be?st(e):"Object"==(r=st(e))&&"function"==typeof e.callee?"Arguments":r},qe=ze?{}.toString:function(){return"[object "+We(this)+"]"};ze||ot(Object.prototype,"toString",qe,{unsafe:!0});var Ve=function(){var t=P(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Ye=RegExp.prototype,Xe=Ye.toString,Ge=a((function(){return"/a/b"!=Xe.call({source:"a",flags:"b"})})),Je="toString"!=Xe.name;(Ge||Je)&&ot(RegExp.prototype,"toString",(function(){var t=P(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(void 0===i&&t instanceof RegExp&&!("flags"in Ye)?Ve.call(t):i)}),{unsafe:!0}),fe({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Ke=Gt.trim,Ze=h.parseInt,Qe=/^[+-]?0[Xx]/,ti=8!==Ze(Wt+"08")||22!==Ze(Wt+"0x16")?function(t,e){var i=Ke(String(t));return Ze(i,e>>>0||(Qe.test(i)?16:10))}:Ze;fe({target:"Number",stat:!0,forced:Number.parseInt!=ti},{parseInt:ti});var ei,ii,ri=function(t,e){return RegExp(t,e)},ni={UNSUPPORTED_Y:a((function(){var t=ri("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:a((function(){var t=ri("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},oi=a((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),ai=a((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),si=nt.get,li=RegExp.prototype.exec,ci=W("native-string-replace",String.prototype.replace),ui=li,hi=(ei=/a/,ii=/b*/g,li.call(ei,"a"),li.call(ii,"a"),0!==ei.lastIndex||0!==ii.lastIndex),fi=ni.UNSUPPORTED_Y||ni.BROKEN_CARET,pi=void 0!==/()??/.exec("")[1];(hi||pi||fi||oi||ai)&&(ui=function(t){var e,i,r,n,o,a,s,l=this,c=si(l),u=c.raw;if(u)return u.lastIndex=l.lastIndex,e=ui.call(u,t),l.lastIndex=u.lastIndex,e;var h=c.groups,f=fi&&l.sticky,p=Ve.call(l),d=l.source,g=0,v=t;if(f&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),v=String(t).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==t[l.lastIndex-1])&&(d="(?: "+d+")",v=" "+v,g++),i=new RegExp("^(?:"+d+")",p)),pi&&(i=new RegExp("^"+d+"$(?!\\s)",p)),hi&&(r=l.lastIndex),n=li.call(f?i:l,v),f?n?(n.input=n.input.slice(g),n[0]=n[0].slice(g),n.index=l.lastIndex,l.lastIndex+=n[0].length):l.lastIndex=0:hi&&n&&(l.lastIndex=l.global?n.index+n[0].length:r),pi&&n&&n.length>1&&ci.call(n[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n&&h)for(n.groups=a=Ut(null),o=0;o<h.length;o++)a[(s=h[o])[0]]=n[s[1]];return n});var di=ui;fe({target:"RegExp",proto:!0,forced:/./.exec!==di},{exec:di});var gi=ke("species"),vi=RegExp.prototype,mi=function(t,e,i,r){var n=ke(t),o=!a((function(){var e={};return e[n]=function(){return 7},7!=""[t](e)})),s=o&&!a((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[gi]=function(){return i},i.flags="",i[n]=/./[n]),i.exec=function(){return e=!0,null},i[n](""),!e}));if(!o||!s||i){var l=/./[n],c=e(n,""[t],(function(t,e,i,r,n){var a=e.exec;return a===di||a===vi.exec?o&&!n?{done:!0,value:l.call(e,i,r)}:{done:!0,value:t.call(i,e,r)}:{done:!1}}));ot(String.prototype,t,c[0]),ot(vi,n,c[1])}r&&A(vi[n],"sham",!0)},yi=function(t){return function(e,i){var r,n,o=String(E(e)),a=gt(i),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(n=o.charCodeAt(a+1))<56320||n>57343?t?o.charAt(a):r:t?o.slice(a,a+2):n-56320+(r-55296<<10)+65536}},bi={codeAt:yi(!1),charAt:yi(!0)},wi=bi.charAt,_i=function(t,e,i){return e+(i?wi(t,e).length:1)},Si=Math.floor,xi="".replace,Pi=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Oi=/\$([$&'`]|\d{1,2})/g,Ii=function(t,e,i,r,n,o){var a=i+t.length,s=r.length,l=Oi;return void 0!==n&&(n=T(n),l=Pi),xi.call(o,l,(function(o,l){var c;switch(l.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(a);case"<":c=n[l.slice(1,-1)];break;default:var u=+l;if(0===u)return o;if(u>s){var h=Si(u/10);return 0===h?o:h<=s?void 0===r[h-1]?l.charAt(1):r[h-1]+l.charAt(1):o}c=r[u-1]}return void 0===c?"":c}))},Ci=function(t,e){var i=t.exec;if("function"==typeof i){var r=i.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==st(t))throw TypeError("RegExp#exec called on incompatible receiver");return di.call(t,e)},Ri=ke("replace"),Ai=Math.max,Ei=Math.min,Ti="$0"==="a".replace(/./,"$0"),Li=!!/./[Ri]&&""===/./[Ri]("a","$0");mi("replace",(function(t,e,i){var r=Li?"$":"$0";return[function(t,i){var r=E(this),n=null==t?void 0:t[Ri];return void 0!==n?n.call(t,r,i):e.call(String(r),t,i)},function(t,n){if("string"==typeof n&&-1===n.indexOf(r)&&-1===n.indexOf("$<")){var o=i(e,this,t,n);if(o.done)return o.value}var a=P(this),s=String(t),l="function"==typeof n;l||(n=String(n));var c=a.global;if(c){var u=a.unicode;a.lastIndex=0}for(var h=[];;){var f=Ci(a,s);if(null===f)break;if(h.push(f),!c)break;""===String(f[0])&&(a.lastIndex=_i(s,mt(a.lastIndex),u))}for(var p,d="",g=0,v=0;v<h.length;v++){f=h[v];for(var m=String(f[0]),y=Ai(Ei(gt(f.index),s.length),0),b=[],w=1;w<f.length;w++)b.push(void 0===(p=f[w])?p:String(p));var _=f.groups;if(l){var S=[m].concat(b,y,s);void 0!==_&&S.push(_);var x=String(n.apply(void 0,S))}else x=Ii(m,s,y,b,_,n);y>=g&&(d+=s.slice(g,y)+x,g=y+m.length)}return d+s.slice(g)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!Ti||Li);var Mi=ke("match"),Fi=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},ji=ke("species"),Ui=function(t,e){var i,r=P(t).constructor;return void 0===r||null==(i=P(r)[ji])?e:Fi(i)},$i=ni.UNSUPPORTED_Y,Di=[].push,ki=Math.min;mi("split",(function(t,e,i){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var r,n,o=String(E(this)),a=void 0===i?4294967295:i>>>0;if(0===a)return[];if(void 0===t)return[o];if(!b(r=t)||!(void 0!==(n=r[Mi])?n:"RegExp"==st(r)))return e.call(o,t,a);for(var s,l,c,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=new RegExp(t.source,h+"g");(s=di.call(p,o))&&!((l=p.lastIndex)>f&&(u.push(o.slice(f,s.index)),s.length>1&&s.index<o.length&&Di.apply(u,s.slice(1)),c=s[0].length,f=l,u.length>=a));)p.lastIndex===s.index&&p.lastIndex++;return f===o.length?!c&&p.test("")||u.push(""):u.push(o.slice(f)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var n=E(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,n,i):r.call(String(n),e,i)},function(t,n){var o=i(r,this,t,n,r!==e);if(o.done)return o.value;var a=P(this),s=String(t),l=Ui(a,RegExp),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+($i?"g":"y"),h=new l($i?"^(?:"+a.source+")":a,u),f=void 0===n?4294967295:n>>>0;if(0===f)return[];if(0===s.length)return null===Ci(h,s)?[s]:[];for(var p=0,d=0,g=[];d<s.length;){h.lastIndex=$i?0:d;var v,m=Ci(h,$i?s.slice(d):s);if(null===m||(v=ki(mt(h.lastIndex+($i?d:0)),s.length))===p)d=_i(s,d,c);else{if(g.push(s.slice(p,d)),g.length===f)return g;for(var y=1;y<=m.length-1;y++)if(g.push(m[y]),g.length===f)return g;d=p=v}}return g.push(s.slice(p)),g}]}),!!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]})),$i),fe({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var Ni=Array.isArray||function(t){return"Array"==st(t)},zi=function(t,e,i){var r=O(e);r in t?C.f(t,r,R(0,i)):t[r]=i},Hi=ke("species"),Bi=function(t,e){var i;return Ni(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!Ni(i.prototype)?b(i)&&null===(i=i[Hi])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},Wi=ke("species"),qi=ke("isConcatSpreadable"),Vi=Me>=51||!a((function(){var t=[];return t[qi]=!1,t.concat()[0]!==t})),Yi=function(t){return Me>=51||!a((function(){var e=[];return(e.constructor={})[Wi]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}("concat"),Xi=function(t){if(!b(t))return!1;var e=t[qi];return void 0!==e?!!e:Ni(t)};fe({target:"Array",proto:!0,forced:!Vi||!Yi},{concat:function(t){var e,i,r,n,o,a=T(this),s=Bi(a,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(Xi(o=-1===e?a:arguments[e])){if(l+(n=mt(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<n;i++,l++)i in o&&zi(s,l,o[i])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");zi(s,l++,o)}return s.length=l,s}});var Gi=function(t){var e=String(E(this)),i="",r=gt(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i},Ji=1..toFixed,Ki=Math.floor,Zi=function(t,e,i){return 0===e?i:e%2==1?Zi(t,e-1,i*t):Zi(t*t,e/2,i)},Qi=function(t,e,i){for(var r=-1,n=i;++r<6;)n+=e*t[r],t[r]=n%1e7,n=Ki(n/1e7)},tr=function(t,e){for(var i=6,r=0;--i>=0;)r+=t[i],t[i]=Ki(r/e),r=r%e*1e7},er=function(t){for(var e=6,i="";--e>=0;)if(""!==i||0===e||0!==t[e]){var r=String(t[e]);i=""===i?r:i+Gi.call("0",7-r.length)+r}return i},ir=Ji&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){Ji.call({})}));fe({target:"Number",proto:!0,forced:ir},{toFixed:function(t){var e,i,r,n,o=function(t){if("number"!=typeof t&&"Number"!=st(t))throw TypeError("Incorrect invocation");return+t}(this),a=gt(t),s=[0,0,0,0,0,0],l="",c="0";if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(l="-",o=-o),o>1e-21)if(i=(e=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}(o*Zi(2,69,1))-69)<0?o*Zi(2,-e,1):o/Zi(2,e,1),i*=4503599627370496,(e=52-e)>0){for(Qi(s,0,i),r=a;r>=7;)Qi(s,1e7,0),r-=7;for(Qi(s,Zi(10,r,1),0),r=e-1;r>=23;)tr(s,1<<23),r-=23;tr(s,1<<r),Qi(s,1,1),tr(s,2),c=er(s)}else Qi(s,0,i),Qi(s,1<<-e,0),c=er(s)+Gi.call("0",a);return c=a>0?l+((n=c.length)<=a?"0."+Gi.call("0",a-n)+c:c.slice(0,n-a)+"."+c.slice(n-a)):l+c}});var rr="FILE_NOT_FOUND",nr="FILE_SIZE_EXCEED",or="FILE_HASH_ERROR",ar="NET_ERROR";function sr(t,i){var r={success:i.success,method:i.method||"POST",url:i.url,mode:!1===i.crossDomain?"same-origin":"cors",timeout:i.timeout||5e3};i=$.extend(r,i||{});var n=new FormData,o=File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice,a=t[0].name,s=a.lastIndexOf("/");s>=0&&(a=a.substr(s+1)),(s=a.lastIndexOf("\\"))>=0&&(a=a.substr(s+1));var l,c=o.call(t[0],i.sliceOffset,i.sliceOffset+i.sliceLength);return n.append("file",c,a),i.data=n,(l=i.headers?i.headers:{})["Content-Type"]=!1,e.net.ajax({url:i.url,type:i.method,headers:l,processData:!1,data:i.data,timeout:i.timeout,withCredentials:i.withCredentials,success:function(t){i.success&&i.success(t)},error:function(t,e,r){i.error&&i.error(r)},complete:i.complete,progress:i.progress})}function lr(t){var i,r=this,n=t.finishCB,a=t.progressCB,s=t.beginCB,l=t.uploadUrl,c=t.maxFileSize?t.maxFileSize:Number.MAX_SAFE_INTEGER,u=t.sliceOffset||0,h=t.sliceLength||-1,f=t.fileInfo.fileIndex||0;t.fileObj=$(t.fileInfo.fileObj),t.fileInfo.formObj?(t.formObj=$(t.fileInfo.formObj),i=t.fileObj[0].files[f]):i=t.fileObj;var p=t.breakpointResume;p||(p=function(t,e,i){o(this,r),i(0)}.bind(this));var d="febsuifile"+e.crypt.uuid();if(d=e.string.replace(d,"-",""),e.utils.browserIEVer()<=9&&t.formObj){t.formObj.attr("target",d),t.formObj.attr("action",l),t.formObj.attr("method","post");var g='<iframe id="'.concat(d,'" name="').concat(d,'" style="display:none;"></iframe>');$("body").prepend(g),$("#"+d).on("load",(function(){var e,i=$("#"+d)[0].contentDocument.body.textContent;try{e=JSON.parse(i)}catch(t){e={}}1==e.isSuccess||200==e.code?n&&n(null,t.fileObj,e):n&&n(ar,t.fileObj,null),t.formObj.removeAttr("target"),t.fileObj[0].value="",$("#"+d).remove()})),s&&s(t.fileObj,{abort:function(){$("#"+d).remove(),t.fileObj[0].value=""}});var v=t.formObj.children("input");$(v[v.length-1]).click()}else{var m=function(){var t=this;try{p(this.file,this.crc,function(i){o(this,t),this.sliceOffset=i;var r,n=this.file.size;-1==this.sliceLength&&(this.sliceLength=n-this.sliceOffset),r=this.checkoutCrc32?this.control_upload_url+"crc32="+this.crc+"&offset="+this.sliceOffset+"&size="+n+(this.data?"&data="+this.data:""):this.control_upload_url+"size="+n+"&offset="+this.sliceOffset;var a=this.sliceOffset/this.file.size,s=this.sliceLength/this.file.size;try{var l=this;if(this.formObj){var c=function(t,i,r){var n={success:r.success,method:r.method||"POST",url:r.url,mode:!1===r.crossDomain?"same-origin":"cors",timeout:r.timeout||5e3};if(r=$.extend(n,r||{}),!t.attr("enctype")||"multipart/form-data"!==t.attr("enctype").toLowerCase())throw new Error("only support multipart/form-data");var o,a=new FormData;if("files"in i[0]&&i[0].files.length>0){var s=File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice,l=i[0].value,c=l.lastIndexOf("/");c>=0&&(l=l.substr(c+1)),(c=l.lastIndexOf("\\"))>=0&&(l=l.substr(c+1));var u=s.call(i[0].files[r.fileIndex],r.sliceOffset,r.sliceOffset+r.sliceLength);a.append("file",u,l)}return r.data=a,(o=r.headers?r.headers:{})["Content-Type"]=!1,e.net.ajax({url:r.url,type:r.method,headers:o,processData:!1,data:r.data,timeout:r.timeout,withCredentials:r.withCredentials,success:function(t){r.success&&r.success(t)},error:function(t,e,i){r.error&&r.error(i)},complete:r.complete,progress:r.progress})}(this.formObj,this.fileObj,{sliceOffset:this.sliceOffset,sliceLength:this.sliceLength,fileIndex:this.control_fileIndex,timeout:this.timeout,method:"POST",url:r,progress:function(t){t=t?parseFloat(t.toFixed(2)):0,t=a+s*t,t=parseFloat(t.toFixed(2)),l.control_upload_progress_cb&&l.control_upload_progress_cb(l.fileObj,t)},error:function(){l.control_upload_cb&&l.control_upload_cb(ar,l.fileObj,null),l.fileObj[0].value=""},success:function(t){try{t=JSON.parse(t)}catch(e){t={}}l.control_upload_cb&&l.control_upload_cb(null,l.fileObj,t),l.fileObj[0].value=""},complete:function(t,e){if(200!=t.status)try{l.control_upload_cb&&l.control_upload_cb(ar,l.fileObj,e,t)}catch(t){}else l.fileObj[0].value=""},crossDomain:this.crossDomain,headers:this.headers,withCredentials:this.withCredentials});this.control_upload_begin_cb&&this.control_upload_begin_cb(this.fileObj,c)}else{c=sr(this.fileObj,{sliceOffset:this.sliceOffset,sliceLength:this.sliceLength,fileIndex:this.control_fileIndex,timeout:this.timeout,method:"POST",url:r,progress:function(t){t=t?parseFloat(t.toFixed(2)):0,t=a+s*t,t=parseFloat(t.toFixed(2)),l.control_upload_progress_cb&&l.control_upload_progress_cb(l.fileObj,t)},error:function(){l.control_upload_cb&&l.control_upload_cb(ar,l.fileObj,null),l.fileObj[0].value=""},success:function(t){try{t=JSON.parse(t)}catch(e){t={}}l.control_upload_cb&&l.control_upload_cb(null,l.fileObj,t),l.fileObj[0].value=""},complete:function(t,e){if(200!=t.status)try{l.control_upload_cb&&l.control_upload_cb(ar,l.fileObj,e,t)}catch(t){}else l.fileObj[0].value=""},crossDomain:this.crossDomain,headers:this.headers,withCredentials:this.withCredentials});this.control_upload_begin_cb&&this.control_upload_begin_cb(this.fileObj,c)}}catch(t){this.control_upload_cb&&this.control_upload_cb(t,this.fileObj,null),this.fileObj[0].value=""}}.bind(this))}catch(t){this.control_upload_cb&&this.control_upload_cb(t,this.fileObj,null),console.error(t)}};if(!i)return void(n&&n(rr,t.fileObj,null));if(i.size>c)return void(n&&n(nr,t.fileObj,null));var y=l.indexOf("?");y<0?l+="?":y<l.length-1&&(l+="&");t.formObj,t.fileObj;var b=t.timeout;t.checkoutCrc32?crypt.crc32_fileSegment(i,0,-1,function(t){t?m.bind(e.utils.mergeMap(this,{crc:t}))():(this.control_upload_cb&&this.control_upload_cb(or,this.fileObj,null),this.fileObj[0].value="")}.bind({timeout:b,checkoutCrc32:t.checkoutCrc32,control_upload_url:l,fileObj:t.fileObj,file:i,data:t.data,formObj:t.formObj,control_upload_progress_cb:a,control_upload_cb:n,control_fileIndex:f,crossDomain:t.crossDomain,headers:t.headers,withCredentials:t.withCredentials,control_upload_begin_cb:s,sliceOffset:u,sliceLength:h})):m.bind({timeout:b,checkoutCrc32:t.checkoutCrc32,control_upload_url:l,fileObj:t.fileObj,file:i,data:t.data,formObj:t.formObj,control_upload_progress_cb:a,control_upload_cb:n,control_fileIndex:f,crossDomain:t.crossDomain,headers:t.headers,withCredentials:t.withCredentials,control_upload_begin_cb:s,sliceOffset:u,sliceLength:h})()}}mi("match",(function(t,e,i){return[function(e){var i=E(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,i):new RegExp(e)[t](String(i))},function(t){var r=i(e,this,t);if(r.done)return r.value;var n=P(this),o=String(t);if(!n.global)return Ci(n,o);var a=n.unicode;n.lastIndex=0;for(var s,l=[],c=0;null!==(s=Ci(n,o));){var u=String(s[0]);l[c]=u,""===u&&(n.lastIndex=_i(o,mt(n.lastIndex),a)),c++}return 0===c?null:l}]}));var cr=ke("unscopables"),ur=Array.prototype;null==ur[cr]&&C.f(ur,cr,{configurable:!0,value:Ut(null)});var hr,fr,pr,dr=function(t){ur[cr][t]=!0},gr={},vr=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),mr=G("IE_PROTO"),yr=Object.prototype,br=vr?Object.getPrototypeOf:function(t){return t=T(t),M(t,mr)?t[mr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?yr:null},wr=ke("iterator"),_r=!1;[].keys&&("next"in(pr=[].keys())?(fr=br(br(pr)))!==Object.prototype&&(hr=fr):_r=!0),(null==hr||a((function(){var t={};return hr[wr].call(t)!==t})))&&(hr={}),M(hr,wr)||A(hr,wr,(function(){return this}));var Sr={IteratorPrototype:hr,BUGGY_SAFARI_ITERATORS:_r},xr=C.f,Pr=ke("toStringTag"),Or=function(t,e,i){t&&!M(t=i?t:t.prototype,Pr)&&xr(t,Pr,{configurable:!0,value:e})},Ir=Sr.IteratorPrototype,Cr=function(){return this},Rr=function(t,e,i){var r=e+" Iterator";return t.prototype=Ut(Ir,{next:R(1,i)}),Or(t,r,!1),gr[r]=Cr,t},Ar=Sr.IteratorPrototype,Er=Sr.BUGGY_SAFARI_ITERATORS,Tr=ke("iterator"),Lr=function(){return this},Mr=function(t,e,i,r,n,o,a){Rr(i,e,r);var s,l,c,u=function(t){if(t===n&&g)return g;if(!Er&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},h=e+" Iterator",f=!1,p=t.prototype,d=p[Tr]||p["@@iterator"]||n&&p[n],g=!Er&&d||u(n),v="Array"==e&&p.entries||d;if(v&&(s=br(v.call(new t)),Ar!==Object.prototype&&s.next&&(br(s)!==Ar&&(lt?lt(s,Ar):"function"!=typeof s[Tr]&&A(s,Tr,Lr)),Or(s,h,!0))),"values"==n&&d&&"values"!==d.name&&(f=!0,g=function(){return d.call(this)}),p[Tr]!==g&&A(p,Tr,g),gr[e]=g,n)if(l={values:u("values"),keys:o?g:u("keys"),entries:u("entries")},a)for(c in l)(Er||f||!(c in p))&&ot(p,c,l[c]);else fe({target:e,proto:!0,forced:Er||f},l);return l},Fr=nt.set,jr=nt.getterFor("Array Iterator"),Ur=Mr(Array,"Array",(function(t,e){Fr(this,{type:"Array Iterator",target:ft(t),index:0,kind:e})}),(function(){var t=jr(this),e=t.target,i=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:r,done:!1}:"values"==i?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");gr.Arguments=gr.Array,dr("keys"),dr("values"),dr("entries");var $r="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Dr=function(t,e,i){for(var r in e)ot(t,r,e[r],i);return t},kr=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t},Nr=function(t){if(void 0===t)return 0;var e=gt(t),i=mt(e);if(e!==i)throw RangeError("Wrong length or index");return i},zr=Math.abs,Hr=Math.pow,Br=Math.floor,Wr=Math.log,qr=Math.LN2,Vr=function(t,e,i){var r,n,o,a=new Array(i),s=8*i-e-1,l=(1<<s)-1,c=l>>1,u=23===e?Hr(2,-24)-Hr(2,-77):0,h=t<0||0===t&&1/t<0?1:0,f=0;for((t=zr(t))!=t||t===1/0?(n=t!=t?1:0,r=l):(r=Br(Wr(t)/qr),t*(o=Hr(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?u/o:u*Hr(2,1-c))*o>=2&&(r++,o/=2),r+c>=l?(n=0,r=l):r+c>=1?(n=(t*o-1)*Hr(2,e),r+=c):(n=t*Hr(2,c-1)*Hr(2,e),r=0));e>=8;a[f++]=255&n,n/=256,e-=8);for(r=r<<e|n,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*h,a},Yr=function(t,e){var i,r=t.length,n=8*r-e-1,o=(1<<n)-1,a=o>>1,s=n-7,l=r-1,c=t[l--],u=127&c;for(c>>=7;s>0;u=256*u+t[l],l--,s-=8);for(i=u&(1<<-s)-1,u>>=-s,s+=e;s>0;i=256*i+t[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return i?NaN:c?-1/0:1/0;i+=Hr(2,e),u-=a}return(c?-1:1)*i*Hr(2,u-e)},Xr=function(t){for(var e=T(this),i=mt(e.length),r=arguments.length,n=wt(r>1?arguments[1]:void 0,i),o=r>2?arguments[2]:void 0,a=void 0===o?i:wt(o,i);a>n;)e[n++]=t;return e},Gr=Dt.f,Jr=C.f,Kr=nt.get,Zr=nt.set,Qr=h.ArrayBuffer,tn=Qr,en=h.DataView,rn=en&&en.prototype,nn=Object.prototype,on=h.RangeError,an=Vr,sn=Yr,ln=function(t){return[255&t]},cn=function(t){return[255&t,t>>8&255]},un=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},hn=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},fn=function(t){return an(t,23,4)},pn=function(t){return an(t,52,8)},dn=function(t,e){Jr(t.prototype,e,{get:function(){return Kr(this)[e]}})},gn=function(t,e,i,r){var n=Nr(i),o=Kr(t);if(n+e>o.byteLength)throw on("Wrong index");var a=Kr(o.buffer).bytes,s=n+o.byteOffset,l=a.slice(s,s+e);return r?l:l.reverse()},vn=function(t,e,i,r,n,o){var a=Nr(i),s=Kr(t);if(a+e>s.byteLength)throw on("Wrong index");for(var l=Kr(s.buffer).bytes,c=a+s.byteOffset,u=r(+n),h=0;h<e;h++)l[c+h]=u[o?h:e-h-1]};if($r){if(!a((function(){Qr(1)}))||!a((function(){new Qr(-1)}))||a((function(){return new Qr,new Qr(1.5),new Qr(NaN),"ArrayBuffer"!=Qr.name}))){for(var mn,yn=(tn=function(t){return kr(this,tn),new Qr(Nr(t))}).prototype=Qr.prototype,bn=Gr(Qr),wn=0;bn.length>wn;)(mn=bn[wn++])in tn||A(tn,mn,Qr[mn]);yn.constructor=tn}lt&&br(rn)!==nn&&lt(rn,nn);var _n=new en(new tn(2)),Sn=rn.setInt8;_n.setInt8(0,2147483648),_n.setInt8(1,2147483649),!_n.getInt8(0)&&_n.getInt8(1)||Dr(rn,{setInt8:function(t,e){Sn.call(this,t,e<<24>>24)},setUint8:function(t,e){Sn.call(this,t,e<<24>>24)}},{unsafe:!0})}else tn=function(t){kr(this,tn,"ArrayBuffer");var e=Nr(t);Zr(this,{bytes:Xr.call(new Array(e),0),byteLength:e}),s||(this.byteLength=e)},en=function(t,e,i){kr(this,en,"DataView"),kr(t,tn,"DataView");var r=Kr(t).byteLength,n=gt(e);if(n<0||n>r)throw on("Wrong offset");if(n+(i=void 0===i?r-n:mt(i))>r)throw on("Wrong length");Zr(this,{buffer:t,byteLength:i,byteOffset:n}),s||(this.buffer=t,this.byteLength=i,this.byteOffset=n)},s&&(dn(tn,"byteLength"),dn(en,"buffer"),dn(en,"byteLength"),dn(en,"byteOffset")),Dr(en.prototype,{getInt8:function(t){return gn(this,1,t)[0]<<24>>24},getUint8:function(t){return gn(this,1,t)[0]},getInt16:function(t){var e=gn(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=gn(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return hn(gn(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return hn(gn(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return sn(gn(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return sn(gn(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){vn(this,1,t,ln,e)},setUint8:function(t,e){vn(this,1,t,ln,e)},setInt16:function(t,e){vn(this,2,t,cn,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){vn(this,2,t,cn,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){vn(this,4,t,un,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){vn(this,4,t,un,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){vn(this,4,t,fn,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){vn(this,8,t,pn,e,arguments.length>2?arguments[2]:void 0)}});Or(tn,"ArrayBuffer"),Or(en,"DataView");var xn={ArrayBuffer:tn,DataView:en},Pn=xn.ArrayBuffer,On=xn.DataView,In=Pn.prototype.slice,Cn=a((function(){return!new Pn(2).slice(1,void 0).byteLength}));fe({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Cn},{slice:function(t,e){if(void 0!==In&&void 0===e)return In.call(P(this),t);for(var i=P(this).byteLength,r=wt(t,i),n=wt(void 0===e?i:e,i),o=new(Ui(this,Pn))(mt(n-r)),a=new On(this),s=new On(o),l=0;r<n;)s.setUint8(l++,a.getUint8(r++));return o}});var Rn=ke("iterator"),An=!1;try{var En=0,Tn={next:function(){return{done:!!En++}},return:function(){An=!0}};Tn[Rn]=function(){return this},Array.from(Tn,(function(){throw 2}))}catch(t){}var Ln,Mn=C.f,Fn=h.Int8Array,jn=Fn&&Fn.prototype,Un=h.Uint8ClampedArray,$n=Un&&Un.prototype,Dn=Fn&&br(Fn),kn=jn&&br(jn),Nn=Object.prototype,zn=Nn.isPrototypeOf,Hn=ke("toStringTag"),Bn=Y("TYPED_ARRAY_TAG"),Wn=$r&&!!lt&&"Opera"!==We(h.opera),qn=!1,Vn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Yn={BigInt64Array:8,BigUint64Array:8},Xn=function(t){if(!b(t))return!1;var e=We(t);return M(Vn,e)||M(Yn,e)};for(Ln in Vn)h[Ln]||(Wn=!1);if((!Wn||"function"!=typeof Dn||Dn===Function.prototype)&&(Dn=function(){throw TypeError("Incorrect invocation")},Wn))for(Ln in Vn)h[Ln]&&lt(h[Ln],Dn);if((!Wn||!kn||kn===Nn)&&(kn=Dn.prototype,Wn))for(Ln in Vn)h[Ln]&&lt(h[Ln].prototype,kn);if(Wn&&br($n)!==kn&&lt($n,kn),s&&!M(kn,Hn))for(Ln in qn=!0,Mn(kn,Hn,{get:function(){return b(this)?this[Bn]:void 0}}),Vn)h[Ln]&&A(h[Ln],Bn,Ln);var Gn={NATIVE_ARRAY_BUFFER_VIEWS:Wn,TYPED_ARRAY_TAG:qn&&Bn,aTypedArray:function(t){if(Xn(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(lt){if(zn.call(Dn,t))return t}else for(var e in Vn)if(M(Vn,Ln)){var i=h[e];if(i&&(t===i||zn.call(i,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,i){if(s){if(i)for(var r in Vn){var n=h[r];if(n&&M(n.prototype,t))try{delete n.prototype[t]}catch(t){}}kn[t]&&!i||ot(kn,t,i?e:Wn&&jn[t]||e)}},exportTypedArrayStaticMethod:function(t,e,i){var r,n;if(s){if(lt){if(i)for(r in Vn)if((n=h[r])&&M(n,t))try{delete n[t]}catch(t){}if(Dn[t]&&!i)return;try{return ot(Dn,t,i?e:Wn&&Dn[t]||e)}catch(t){}}for(r in Vn)!(n=h[r])||n[t]&&!i||ot(n,t,e)}},isView:function(t){if(!b(t))return!1;var e=We(t);return"DataView"===e||M(Vn,e)||M(Yn,e)},isTypedArray:Xn,TypedArray:Dn,TypedArrayPrototype:kn},Jn=Gn.NATIVE_ARRAY_BUFFER_VIEWS,Kn=h.ArrayBuffer,Zn=h.Int8Array,Qn=!Jn||!a((function(){Zn(1)}))||!a((function(){new Zn(-1)}))||!function(t,e){if(!e&&!An)return!1;var i=!1;try{var r={};r[Rn]=function(){return{next:function(){return{done:i=!0}}}},t(r)}catch(t){}return i}((function(t){new Zn,new Zn(null),new Zn(1.5),new Zn(t)}),!0)||a((function(){return 1!==new Zn(new Kn(2),1,void 0).length})),to=function(t,e){var i=function(t){var e=gt(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(i%e)throw RangeError("Wrong offset");return i},eo=ke("iterator"),io=function(t){if(null!=t)return t[eo]||t["@@iterator"]||gr[We(t)]},ro=ke("iterator"),no=Array.prototype,oo=function(t){return void 0!==t&&(gr.Array===t||no[ro]===t)},ao=function(t,e,i){if(Fi(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}},so=Gn.aTypedArrayConstructor,lo=function(t){var e,i,r,n,o,a,s=T(t),l=arguments.length,c=l>1?arguments[1]:void 0,u=void 0!==c,h=io(s);if(null!=h&&!oo(h))for(a=(o=h.call(s)).next,s=[];!(n=a.call(o)).done;)s.push(n.value);for(u&&l>2&&(c=ao(c,arguments[2],2)),i=mt(s.length),r=new(so(this))(i),e=0;i>e;e++)r[e]=u?c(s[e],e):s[e];return r},co=[].push,uo=function(t){var e=1==t,i=2==t,r=3==t,n=4==t,o=6==t,a=7==t,s=5==t||o;return function(l,c,u,h){for(var f,p,d=T(l),g=ht(d),v=ao(c,u,3),m=mt(g.length),y=0,b=h||Bi,w=e?b(l,m):i||a?b(l,0):void 0;m>y;y++)if((s||y in g)&&(p=v(f=g[y],y,d),t))if(e)w[y]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return y;case 2:co.call(w,f)}else switch(t){case 4:return!1;case 7:co.call(w,f)}return o?-1:r||n?n:w}},ho={forEach:uo(0),map:uo(1),filter:uo(2),some:uo(3),every:uo(4),find:uo(5),findIndex:uo(6),filterOut:uo(7)},fo=ke("species");c((function(t){var e=Dt.f,i=ho.forEach,r=nt.get,n=nt.set,o=C.f,a=Bt.f,l=Math.round,c=h.RangeError,u=xn.ArrayBuffer,f=xn.DataView,p=Gn.NATIVE_ARRAY_BUFFER_VIEWS,d=Gn.TYPED_ARRAY_TAG,g=Gn.TypedArray,v=Gn.TypedArrayPrototype,m=Gn.aTypedArrayConstructor,y=Gn.isTypedArray,w=function(t,e){for(var i=0,r=e.length,n=new(m(t))(r);r>i;)n[i]=e[i++];return n},_=function(t,e){o(t,e,{get:function(){return r(this)[e]}})},S=function(t){var e;return t instanceof u||"ArrayBuffer"==(e=We(t))||"SharedArrayBuffer"==e},x=function(t,e){return y(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},P=function(t,e){return x(t,e=O(e,!0))?R(2,t[e]):a(t,e)},I=function(t,e,i){return!(x(t,e=O(e,!0))&&b(i)&&M(i,"value"))||M(i,"get")||M(i,"set")||i.configurable||M(i,"writable")&&!i.writable||M(i,"enumerable")&&!i.enumerable?o(t,e,i):(t[e]=i.value,t)};s?(p||(Bt.f=P,C.f=I,_(v,"buffer"),_(v,"byteOffset"),_(v,"byteLength"),_(v,"length")),fe({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:P,defineProperty:I}),t.exports=function(t,a,m){var _=t.match(/\d+$/)[0]/8,x=t+(m?"Clamped":"")+"Array",P="get"+t,O="set"+t,I=h[x],R=I,E=R&&R.prototype,T={},L=function(t,e){o(t,e,{get:function(){return function(t,e){var i=r(t);return i.view[P](e*_+i.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,i){var n=r(t);m&&(i=(i=l(i))<0?0:i>255?255:255&i),n.view[O](e*_+n.byteOffset,i,!0)}(this,e,t)},enumerable:!0})};p?Qn&&(R=a((function(t,e,i,r){return kr(t,R,x),ct(b(e)?S(e)?void 0!==r?new I(e,to(i,_),r):void 0!==i?new I(e,to(i,_)):new I(e):y(e)?w(R,e):lo.call(R,e):new I(Nr(e)),t,R)})),lt&&lt(R,g),i(e(I),(function(t){t in R||A(R,t,I[t])})),R.prototype=E):(R=a((function(t,e,i,r){kr(t,R,x);var o,a,s,l=0,h=0;if(b(e)){if(!S(e))return y(e)?w(R,e):lo.call(R,e);o=e,h=to(i,_);var p=e.byteLength;if(void 0===r){if(p%_)throw c("Wrong length");if((a=p-h)<0)throw c("Wrong length")}else if((a=mt(r)*_)+h>p)throw c("Wrong length");s=a/_}else s=Nr(e),o=new u(a=s*_);for(n(t,{buffer:o,byteOffset:h,byteLength:a,length:s,view:new f(o)});l<s;)L(t,l++)})),lt&&lt(R,g),E=R.prototype=Ut(v)),E.constructor!==R&&A(E,"constructor",R),d&&A(E,d,x),T[x]=R,fe({global:!0,forced:R!=I,sham:!p},T),"BYTES_PER_ELEMENT"in R||A(R,"BYTES_PER_ELEMENT",_),"BYTES_PER_ELEMENT"in E||A(E,"BYTES_PER_ELEMENT",_),function(t){var e=Et(t),i=C.f;s&&e&&!e[fo]&&i(e,fo,{configurable:!0,get:function(){return this}})}(x)}):t.exports=function(){}}))("Uint8",(function(t){return function(e,i,r){return t(this,e,i,r)}}));var po=Math.min,go=[].copyWithin||function(t,e){var i=T(this),r=mt(i.length),n=wt(t,r),o=wt(e,r),a=arguments.length>2?arguments[2]:void 0,s=po((void 0===a?r:wt(a,r))-o,r-n),l=1;for(o<n&&n<o+s&&(l=-1,o+=s-1,n+=s-1);s-- >0;)o in i?i[n]=i[o]:delete i[n],n+=l,o+=l;return i},vo=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("copyWithin",(function(t,e){return go.call(vo(this),t,e,arguments.length>2?arguments[2]:void 0)}));var mo=ho.every,yo=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("every",(function(t){return mo(yo(this),t,arguments.length>1?arguments[1]:void 0)}));var bo=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("fill",(function(t){return Xr.apply(bo(this),arguments)}));var wo=Gn.aTypedArrayConstructor,_o=function(t,e){for(var i=Ui(t,t.constructor),r=0,n=e.length,o=new(wo(i))(n);n>r;)o[r]=e[r++];return o},So=ho.filter,xo=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("filter",(function(t){var e=So(xo(this),t,arguments.length>1?arguments[1]:void 0);return _o(this,e)}));var Po=ho.find,Oo=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("find",(function(t){return Po(Oo(this),t,arguments.length>1?arguments[1]:void 0)}));var Io=ho.findIndex,Co=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("findIndex",(function(t){return Io(Co(this),t,arguments.length>1?arguments[1]:void 0)}));var Ro=ho.forEach,Ao=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("forEach",(function(t){Ro(Ao(this),t,arguments.length>1?arguments[1]:void 0)}));var Eo=St.includes,To=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("includes",(function(t){return Eo(To(this),t,arguments.length>1?arguments[1]:void 0)}));var Lo=St.indexOf,Mo=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("indexOf",(function(t){return Lo(Mo(this),t,arguments.length>1?arguments[1]:void 0)}));var Fo=ke("iterator"),jo=h.Uint8Array,Uo=Ur.values,$o=Ur.keys,Do=Ur.entries,ko=Gn.aTypedArray,No=Gn.exportTypedArrayMethod,zo=jo&&jo.prototype[Fo],Ho=!!zo&&("values"==zo.name||null==zo.name),Bo=function(){return Uo.call(ko(this))};No("entries",(function(){return Do.call(ko(this))})),No("keys",(function(){return $o.call(ko(this))})),No("values",Bo,!Ho),No(Fo,Bo,!Ho);var Wo=Gn.aTypedArray,qo=[].join;(0,Gn.exportTypedArrayMethod)("join",(function(t){return qo.apply(Wo(this),arguments)}));var Vo=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("lastIndexOf",(function(t){return Se.apply(Vo(this),arguments)}));var Yo=ho.map,Xo=Gn.aTypedArray,Go=Gn.aTypedArrayConstructor;(0,Gn.exportTypedArrayMethod)("map",(function(t){return Yo(Xo(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(Go(Ui(t,t.constructor)))(e)}))}));var Jo=function(t){return function(e,i,r,n){Fi(i);var o=T(e),a=ht(o),s=mt(o.length),l=t?s-1:0,c=t?-1:1;if(r<2)for(;;){if(l in a){n=a[l],l+=c;break}if(l+=c,t?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:s>l;l+=c)l in a&&(n=i(n,a[l],l,o));return n}},Ko={left:Jo(!1),right:Jo(!0)},Zo=Ko.left,Qo=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("reduce",(function(t){return Zo(Qo(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var ta=Ko.right,ea=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("reduceRight",(function(t){return ta(ea(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var ia=Gn.aTypedArray,ra=Gn.exportTypedArrayMethod,na=Math.floor;ra("reverse",(function(){for(var t,e=ia(this).length,i=na(e/2),r=0;r<i;)t=this[r],this[r++]=this[--e],this[e]=t;return this}));var oa=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("set",(function(t){oa(this);var e=to(arguments.length>1?arguments[1]:void 0,1),i=this.length,r=T(t),n=mt(r.length),o=0;if(n+e>i)throw RangeError("Wrong length");for(;o<n;)this[e+o]=r[o++]}),a((function(){new Int8Array(1).set({})})));var aa=Gn.aTypedArray,sa=Gn.aTypedArrayConstructor,la=[].slice;(0,Gn.exportTypedArrayMethod)("slice",(function(t,e){for(var i=la.call(aa(this),t,e),r=Ui(this,this.constructor),n=0,o=i.length,a=new(sa(r))(o);o>n;)a[n]=i[n++];return a}),a((function(){new Int8Array(1).slice()})));var ca=ho.some,ua=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("some",(function(t){return ca(ua(this),t,arguments.length>1?arguments[1]:void 0)}));var ha=Math.floor,fa=function(t,e){var i=t.length,r=ha(i/2);return i<8?pa(t,e):da(fa(t.slice(0,r),e),fa(t.slice(r),e),e)},pa=function(t,e){for(var i,r,n=t.length,o=1;o<n;){for(r=o,i=t[o];r&&e(t[r-1],i)>0;)t[r]=t[--r];r!==o++&&(t[r]=i)}return t},da=function(t,e,i){for(var r=t.length,n=e.length,o=0,a=0,s=[];o<r||a<n;)o<r&&a<n?s.push(i(t[o],e[a])<=0?t[o++]:e[a++]):s.push(o<r?t[o++]:e[a++]);return s},ga=fa,va=Ae.match(/firefox\/(\d+)/i),ma=!!va&&+va[1],ya=/MSIE|Trident/.test(Ae),ba=Ae.match(/AppleWebKit\/(\d+)\./),wa=!!ba&&+ba[1],_a=Gn.aTypedArray,Sa=Gn.exportTypedArrayMethod,xa=h.Uint16Array,Pa=xa&&xa.prototype.sort,Oa=!!Pa&&!a((function(){var t=new xa(2);t.sort(null),t.sort({})})),Ia=!!Pa&&!a((function(){if(Me)return Me<74;if(ma)return ma<67;if(ya)return!0;if(wa)return wa<602;var t,e,i=new xa(516),r=Array(516);for(t=0;t<516;t++)e=t%4,i[t]=515-t,r[t]=t-2*e+3;for(i.sort((function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(i[t]!==r[t])return!0}));Sa("sort",(function(t){if(void 0!==t&&Fi(t),Ia)return Pa.call(this,t);_a(this);var e,i=mt(this.length),r=Array(i);for(e=0;e<i;e++)r[e]=this[e];for(r=ga(this,function(t){return function(e,i){return void 0!==t?+t(e,i)||0:i!=i?-1:e!=e?1:0===e&&0===i?1/e>0&&1/i<0?1:-1:e>i}}(t)),e=0;e<i;e++)this[e]=r[e];return this}),!Ia||Oa);var Ca=Gn.aTypedArray;(0,Gn.exportTypedArrayMethod)("subarray",(function(t,e){var i=Ca(this),r=i.length,n=wt(t,r);return new(Ui(i,i.constructor))(i.buffer,i.byteOffset+n*i.BYTES_PER_ELEMENT,mt((void 0===e?r:wt(e,r))-n))}));var Ra=h.Int8Array,Aa=Gn.aTypedArray,Ea=Gn.exportTypedArrayMethod,Ta=[].toLocaleString,La=[].slice,Ma=!!Ra&&a((function(){Ta.call(new Ra(1))}));Ea("toLocaleString",(function(){return Ta.apply(Ma?La.call(Aa(this)):Aa(this),arguments)}),a((function(){return[1,2].toLocaleString()!=new Ra([1,2]).toLocaleString()}))||!a((function(){Ra.prototype.toLocaleString.call([1,2])})));var Fa=Gn.exportTypedArrayMethod,ja=h.Uint8Array,Ua=ja&&ja.prototype||{},$a=[].toString,Da=[].join;a((function(){$a.call({})}))&&($a=function(){return Da.call(this)});var ka=Ua.toString!=$a;Fa("toString",$a,ka);var Na=bi.charAt,za=nt.set,Ha=nt.getterFor("String Iterator");Mr(String,"String",(function(t){za(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=Ha(this),i=e.string,r=e.index;return r>=i.length?{value:void 0,done:!0}:(t=Na(i,r),e.index+=t.length,{value:t,done:!1})}));var Ba={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Wa=ke("iterator"),qa=ke("toStringTag"),Va=Ur.values;for(var Ya in Ba){var Xa=h[Ya],Ga=Xa&&Xa.prototype;if(Ga){if(Ga[Wa]!==Va)try{A(Ga,Wa,Va)}catch(t){Ga[Wa]=Va}if(Ga[qa]||A(Ga,qa,Ya),Ba[Ya])for(var Ja in Ur)if(Ga[Ja]!==Ur[Ja])try{A(Ga,Ja,Ur[Ja])}catch(t){Ga[Ja]=Ur[Ja]}}}var Ka=ke("iterator"),Za=!a((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,i="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),i+=r+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[Ka]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host})),Qa=Object.assign,ts=Object.defineProperty,es=!Qa||a((function(){if(s&&1!==Qa({b:1},Qa(ts({},"a",{enumerable:!0,get:function(){ts(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Qa({},t)[i]||"abcdefghijklmnopqrst"!=It(Qa({},e)).join("")}))?function(t,e){for(var i=T(t),r=arguments.length,n=1,o=le.f,a=zt.f;r>n;)for(var l,c=ht(arguments[n++]),u=o?It(c).concat(o(c)):It(c),h=u.length,f=0;h>f;)l=u[f++],s&&!a.call(c,l)||(i[l]=c[l]);return i}:Qa,is=function(t,e,i,r){try{return r?e(P(i)[0],i[1]):e(i)}catch(e){throw function(t){var e=t.return;if(void 0!==e)P(e.call(t)).value}(t),e}},rs=function(t){var e,i,r,n,o,a,s=T(t),l="function"==typeof this?this:Array,c=arguments.length,u=c>1?arguments[1]:void 0,h=void 0!==u,f=io(s),p=0;if(h&&(u=ao(u,c>2?arguments[2]:void 0,2)),null==f||l==Array&&oo(f))for(i=new l(e=mt(s.length));e>p;p++)a=h?u(s[p],p):s[p],zi(i,p,a);else for(o=(n=f.call(s)).next,i=new l;!(r=o.call(n)).done;p++)a=h?is(n,u,[r.value,p],!0):r.value,zi(i,p,a);return i.length=p,i},ns=/[^\0-\u007E]/,os=/[.\u3002\uFF0E\uFF61]/g,as="Overflow: input needs wider integers to process",ss=Math.floor,ls=String.fromCharCode,cs=function(t){return t+22+75*(t<26)},us=function(t,e,i){var r=0;for(t=i?ss(t/700):t>>1,t+=ss(t/e);t>455;r+=36)t=ss(t/35);return ss(r+36*t/(t+38))},hs=function(t){var e,i,r=[],n=(t=function(t){for(var e=[],i=0,r=t.length;i<r;){var n=t.charCodeAt(i++);if(n>=55296&&n<=56319&&i<r){var o=t.charCodeAt(i++);56320==(64512&o)?e.push(((1023&n)<<10)+(1023&o)+65536):(e.push(n),i--)}else e.push(n)}return e}(t)).length,o=128,a=0,s=72;for(e=0;e<t.length;e++)(i=t[e])<128&&r.push(ls(i));var l=r.length,c=l;for(l&&r.push("-");c<n;){var u=2147483647;for(e=0;e<t.length;e++)(i=t[e])>=o&&i<u&&(u=i);var h=c+1;if(u-o>ss((2147483647-a)/h))throw RangeError(as);for(a+=(u-o)*h,o=u,e=0;e<t.length;e++){if((i=t[e])<o&&++a>2147483647)throw RangeError(as);if(i==o){for(var f=a,p=36;;p+=36){var d=p<=s?1:p>=s+26?26:p-s;if(f<d)break;var g=f-d,v=36-d;r.push(ls(cs(d+g%v))),f=ss(g/v)}r.push(ls(cs(f))),s=us(a,h,c==l),a=0,++c}}++a,++o}return r.join("")},fs=function(t){var e=io(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return P(e.call(t))},ps=Et("fetch"),ds=Et("Headers"),gs=ke("iterator"),vs=nt.set,ms=nt.getterFor("URLSearchParams"),ys=nt.getterFor("URLSearchParamsIterator"),bs=/\+/g,ws=Array(4),_s=function(t){return ws[t-1]||(ws[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},Ss=function(t){try{return decodeURIComponent(t)}catch(e){return t}},xs=function(t){var e=t.replace(bs," "),i=4;try{return decodeURIComponent(e)}catch(t){for(;i;)e=e.replace(_s(i--),Ss);return e}},Ps=/[!'()~]|%20/g,Os={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Is=function(t){return Os[t]},Cs=function(t){return encodeURIComponent(t).replace(Ps,Is)},Rs=function(t,e){if(e)for(var i,r,n=e.split("&"),o=0;o<n.length;)(i=n[o++]).length&&(r=i.split("="),t.push({key:xs(r.shift()),value:xs(r.join("="))}))},As=function(t){this.entries.length=0,Rs(this.entries,t)},Es=function(t,e){if(t<e)throw TypeError("Not enough arguments")},Ts=Rr((function(t,e){vs(this,{type:"URLSearchParamsIterator",iterator:fs(ms(t).entries),kind:e})}),"Iterator",(function(){var t=ys(this),e=t.kind,i=t.iterator.next(),r=i.value;return i.done||(i.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),i})),Ls=function(){kr(this,Ls,"URLSearchParams");var t,e,i,r,n,o,a,s,l,c=arguments.length>0?arguments[0]:void 0,u=this,h=[];if(vs(u,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:As}),void 0!==c)if(b(c))if("function"==typeof(t=io(c)))for(i=(e=t.call(c)).next;!(r=i.call(e)).done;){if((a=(o=(n=fs(P(r.value))).next).call(n)).done||(s=o.call(n)).done||!o.call(n).done)throw TypeError("Expected sequence with length 2");h.push({key:a.value+"",value:s.value+""})}else for(l in c)M(c,l)&&h.push({key:l,value:c[l]+""});else Rs(h,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},Ms=Ls.prototype;Dr(Ms,{append:function(t,e){Es(arguments.length,2);var i=ms(this);i.entries.push({key:t+"",value:e+""}),i.updateURL()},delete:function(t){Es(arguments.length,1);for(var e=ms(this),i=e.entries,r=t+"",n=0;n<i.length;)i[n].key===r?i.splice(n,1):n++;e.updateURL()},get:function(t){Es(arguments.length,1);for(var e=ms(this).entries,i=t+"",r=0;r<e.length;r++)if(e[r].key===i)return e[r].value;return null},getAll:function(t){Es(arguments.length,1);for(var e=ms(this).entries,i=t+"",r=[],n=0;n<e.length;n++)e[n].key===i&&r.push(e[n].value);return r},has:function(t){Es(arguments.length,1);for(var e=ms(this).entries,i=t+"",r=0;r<e.length;)if(e[r++].key===i)return!0;return!1},set:function(t,e){Es(arguments.length,1);for(var i,r=ms(this),n=r.entries,o=!1,a=t+"",s=e+"",l=0;l<n.length;l++)(i=n[l]).key===a&&(o?n.splice(l--,1):(o=!0,i.value=s));o||n.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,i,r=ms(this),n=r.entries,o=n.slice();for(n.length=0,i=0;i<o.length;i++){for(t=o[i],e=0;e<i;e++)if(n[e].key>t.key){n.splice(e,0,t);break}e===i&&n.push(t)}r.updateURL()},forEach:function(t){for(var e,i=ms(this).entries,r=ao(t,arguments.length>1?arguments[1]:void 0,3),n=0;n<i.length;)r((e=i[n++]).value,e.key,this)},keys:function(){return new Ts(this,"keys")},values:function(){return new Ts(this,"values")},entries:function(){return new Ts(this,"entries")}},{enumerable:!0}),ot(Ms,gs,Ms.entries),ot(Ms,"toString",(function(){for(var t,e=ms(this).entries,i=[],r=0;r<e.length;)t=e[r++],i.push(Cs(t.key)+"="+Cs(t.value));return i.join("&")}),{enumerable:!0}),Or(Ls,"URLSearchParams"),fe({global:!0,forced:!Za},{URLSearchParams:Ls}),Za||"function"!=typeof ps||"function"!=typeof ds||fe({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,i,r,n=[t];return arguments.length>1&&(b(e=arguments[1])&&(i=e.body,"URLSearchParams"===We(i)&&((r=e.headers?new ds(e.headers):new ds).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=Ut(e,{body:R(0,String(i)),headers:R(0,r)}))),n.push(e)),ps.apply(this,n)}});var Fs,js={URLSearchParams:Ls,getState:ms},Us=bi.codeAt,$s=h.URL,Ds=js.URLSearchParams,ks=js.getState,Ns=nt.set,zs=nt.getterFor("URL"),Hs=Math.floor,Bs=Math.pow,Ws=/[A-Za-z]/,qs=/[\d+-.A-Za-z]/,Vs=/\d/,Ys=/^0x/i,Xs=/^[0-7]+$/,Gs=/^\d+$/,Js=/^[\dA-Fa-f]+$/,Ks=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Zs=/[\0\t\n\r #/:<>?@[\\\]^|]/,Qs=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,tl=/[\t\n\r]/g,el=function(t,e){var i,r,n;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(i=rl(e.slice(1,-1))))return"Invalid host";t.host=i}else if(hl(t)){if(e=function(t){var e,i,r=[],n=t.toLowerCase().replace(os,".").split(".");for(e=0;e<n.length;e++)i=n[e],r.push(ns.test(i)?"xn--"+hs(i):i);return r.join(".")}(e),Ks.test(e))return"Invalid host";if(null===(i=il(e)))return"Invalid host";t.host=i}else{if(Zs.test(e))return"Invalid host";for(i="",r=rs(e),n=0;n<r.length;n++)i+=cl(r[n],ol);t.host=i}},il=function(t){var e,i,r,n,o,a,s,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(e=l.length)>4)return t;for(i=[],r=0;r<e;r++){if(""==(n=l[r]))return t;if(o=10,n.length>1&&"0"==n.charAt(0)&&(o=Ys.test(n)?16:8,n=n.slice(8==o?1:2)),""===n)a=0;else{if(!(10==o?Gs:8==o?Xs:Js).test(n))return t;a=parseInt(n,o)}i.push(a)}for(r=0;r<e;r++)if(a=i[r],r==e-1){if(a>=Bs(256,5-e))return null}else if(a>255)return null;for(s=i.pop(),r=0;r<i.length;r++)s+=i[r]*Bs(256,3-r);return s},rl=function(t){var e,i,r,n,o,a,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,f=function(){return t.charAt(h)};if(":"==f()){if(":"!=t.charAt(1))return;h+=2,u=++c}for(;f();){if(8==c)return;if(":"!=f()){for(e=i=0;i<4&&Js.test(f());)e=16*e+parseInt(f(),16),h++,i++;if("."==f()){if(0==i)return;if(h-=i,c>6)return;for(r=0;f();){if(n=null,r>0){if(!("."==f()&&r<4))return;h++}if(!Vs.test(f()))return;for(;Vs.test(f());){if(o=parseInt(f(),10),null===n)n=o;else{if(0==n)return;n=10*n+o}if(n>255)return;h++}l[c]=256*l[c]+n,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;l[c++]=e}else{if(null!==u)return;h++,u=++c}}if(null!==u)for(a=c-u,c=7;0!=c&&a>0;)s=l[c],l[c--]=l[u+a-1],l[u+--a]=s;else if(8!=c)return;return l},nl=function(t){var e,i,r,n;if("number"==typeof t){for(e=[],i=0;i<4;i++)e.unshift(t%256),t=Hs(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,i=1,r=null,n=0,o=0;o<8;o++)0!==t[o]?(n>i&&(e=r,i=n),r=null,n=0):(null===r&&(r=o),++n);return n>i&&(e=r,i=n),e}(t),i=0;i<8;i++)n&&0===t[i]||(n&&(n=!1),r===i?(e+=i?":":"::",n=!0):(e+=t[i].toString(16),i<7&&(e+=":")));return"["+e+"]"}return t},ol={},al=es({},ol,{" ":1,'"':1,"<":1,">":1,"`":1}),sl=es({},al,{"#":1,"?":1,"{":1,"}":1}),ll=es({},sl,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),cl=function(t,e){var i=Us(t,0);return i>32&&i<127&&!M(e,t)?t:encodeURIComponent(t)},ul={ftp:21,file:null,http:80,https:443,ws:80,wss:443},hl=function(t){return M(ul,t.scheme)},fl=function(t){return""!=t.username||""!=t.password},pl=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},dl=function(t,e){var i;return 2==t.length&&Ws.test(t.charAt(0))&&(":"==(i=t.charAt(1))||!e&&"|"==i)},gl=function(t){var e;return t.length>1&&dl(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},vl=function(t){var e=t.path,i=e.length;!i||"file"==t.scheme&&1==i&&dl(e[0],!0)||e.pop()},ml=function(t){return"."===t||"%2e"===t.toLowerCase()},yl={},bl={},wl={},_l={},Sl={},xl={},Pl={},Ol={},Il={},Cl={},Rl={},Al={},El={},Tl={},Ll={},Ml={},Fl={},jl={},Ul={},$l={},Dl={},kl=function(t,e,i,r){var n,o,a,s,l,c=i||yl,u=0,h="",f=!1,p=!1,d=!1;for(i||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(Qs,"")),e=e.replace(tl,""),n=rs(e);u<=n.length;){switch(o=n[u],c){case yl:if(!o||!Ws.test(o)){if(i)return"Invalid scheme";c=wl;continue}h+=o.toLowerCase(),c=bl;break;case bl:if(o&&(qs.test(o)||"+"==o||"-"==o||"."==o))h+=o.toLowerCase();else{if(":"!=o){if(i)return"Invalid scheme";h="",c=wl,u=0;continue}if(i&&(hl(t)!=M(ul,h)||"file"==h&&(fl(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,i)return void(hl(t)&&ul[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?c=Tl:hl(t)&&r&&r.scheme==t.scheme?c=_l:hl(t)?c=Ol:"/"==n[u+1]?(c=Sl,u++):(t.cannotBeABaseURL=!0,t.path.push(""),c=Ul)}break;case wl:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,c=Dl;break}c="file"==r.scheme?Tl:xl;continue;case _l:if("/"!=o||"/"!=n[u+1]){c=xl;continue}c=Il,u++;break;case Sl:if("/"==o){c=Cl;break}c=jl;continue;case xl:if(t.scheme=r.scheme,o==Fs)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&hl(t))c=Pl;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",c=$l;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),c=jl;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=Dl}break;case Pl:if(!hl(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,c=jl;continue}c=Cl}else c=Il;break;case Ol:if(c=Il,"/"!=o||"/"!=h.charAt(u+1))continue;u++;break;case Il:if("/"!=o&&"\\"!=o){c=Cl;continue}break;case Cl:if("@"==o){f&&(h="%40"+h),f=!0,a=rs(h);for(var g=0;g<a.length;g++){var v=a[g];if(":"!=v||d){var m=cl(v,ll);d?t.password+=m:t.username+=m}else d=!0}h=""}else if(o==Fs||"/"==o||"?"==o||"#"==o||"\\"==o&&hl(t)){if(f&&""==h)return"Invalid authority";u-=rs(h).length+1,h="",c=Rl}else h+=o;break;case Rl:case Al:if(i&&"file"==t.scheme){c=Ml;continue}if(":"!=o||p){if(o==Fs||"/"==o||"?"==o||"#"==o||"\\"==o&&hl(t)){if(hl(t)&&""==h)return"Invalid host";if(i&&""==h&&(fl(t)||null!==t.port))return;if(s=el(t,h))return s;if(h="",c=Fl,i)return;continue}"["==o?p=!0:"]"==o&&(p=!1),h+=o}else{if(""==h)return"Invalid host";if(s=el(t,h))return s;if(h="",c=El,i==Al)return}break;case El:if(!Vs.test(o)){if(o==Fs||"/"==o||"?"==o||"#"==o||"\\"==o&&hl(t)||i){if(""!=h){var y=parseInt(h,10);if(y>65535)return"Invalid port";t.port=hl(t)&&y===ul[t.scheme]?null:y,h=""}if(i)return;c=Fl;continue}return"Invalid port"}h+=o;break;case Tl:if(t.scheme="file","/"==o||"\\"==o)c=Ll;else{if(!r||"file"!=r.scheme){c=jl;continue}if(o==Fs)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",c=$l;else{if("#"!=o){gl(n.slice(u).join(""))||(t.host=r.host,t.path=r.path.slice(),vl(t)),c=jl;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=Dl}}break;case Ll:if("/"==o||"\\"==o){c=Ml;break}r&&"file"==r.scheme&&!gl(n.slice(u).join(""))&&(dl(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),c=jl;continue;case Ml:if(o==Fs||"/"==o||"\\"==o||"?"==o||"#"==o){if(!i&&dl(h))c=jl;else if(""==h){if(t.host="",i)return;c=Fl}else{if(s=el(t,h))return s;if("localhost"==t.host&&(t.host=""),i)return;h="",c=Fl}continue}h+=o;break;case Fl:if(hl(t)){if(c=jl,"/"!=o&&"\\"!=o)continue}else if(i||"?"!=o)if(i||"#"!=o){if(o!=Fs&&(c=jl,"/"!=o))continue}else t.fragment="",c=Dl;else t.query="",c=$l;break;case jl:if(o==Fs||"/"==o||"\\"==o&&hl(t)||!i&&("?"==o||"#"==o)){if(".."===(l=(l=h).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(vl(t),"/"==o||"\\"==o&&hl(t)||t.path.push("")):ml(h)?"/"==o||"\\"==o&&hl(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&dl(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(o==Fs||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",c=$l):"#"==o&&(t.fragment="",c=Dl)}else h+=cl(o,sl);break;case Ul:"?"==o?(t.query="",c=$l):"#"==o?(t.fragment="",c=Dl):o!=Fs&&(t.path[0]+=cl(o,ol));break;case $l:i||"#"!=o?o!=Fs&&("'"==o&&hl(t)?t.query+="%27":t.query+="#"==o?"%23":cl(o,ol)):(t.fragment="",c=Dl);break;case Dl:o!=Fs&&(t.fragment+=cl(o,al))}u++}},Nl=function(t){var e,i,r=kr(this,Nl,"URL"),n=arguments.length>1?arguments[1]:void 0,o=String(t),a=Ns(r,{type:"URL"});if(void 0!==n)if(n instanceof Nl)e=zs(n);else if(i=kl(e={},String(n)))throw TypeError(i);if(i=kl(a,o,null,e))throw TypeError(i);var l=a.searchParams=new Ds,c=ks(l);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(l)||null},s||(r.href=Hl.call(r),r.origin=Bl.call(r),r.protocol=Wl.call(r),r.username=ql.call(r),r.password=Vl.call(r),r.host=Yl.call(r),r.hostname=Xl.call(r),r.port=Gl.call(r),r.pathname=Jl.call(r),r.search=Kl.call(r),r.searchParams=Zl.call(r),r.hash=Ql.call(r))},zl=Nl.prototype,Hl=function(){var t=zs(this),e=t.scheme,i=t.username,r=t.password,n=t.host,o=t.port,a=t.path,s=t.query,l=t.fragment,c=e+":";return null!==n?(c+="//",fl(t)&&(c+=i+(r?":"+r:"")+"@"),c+=nl(n),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},Bl=function(){var t=zs(this),e=t.scheme,i=t.port;if("blob"==e)try{return new Nl(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&hl(t)?e+"://"+nl(t.host)+(null!==i?":"+i:""):"null"},Wl=function(){return zs(this).scheme+":"},ql=function(){return zs(this).username},Vl=function(){return zs(this).password},Yl=function(){var t=zs(this),e=t.host,i=t.port;return null===e?"":null===i?nl(e):nl(e)+":"+i},Xl=function(){var t=zs(this).host;return null===t?"":nl(t)},Gl=function(){var t=zs(this).port;return null===t?"":String(t)},Jl=function(){var t=zs(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Kl=function(){var t=zs(this).query;return t?"?"+t:""},Zl=function(){return zs(this).searchParams},Ql=function(){var t=zs(this).fragment;return t?"#"+t:""},tc=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(s&&Ct(zl,{href:tc(Hl,(function(t){var e=zs(this),i=String(t),r=kl(e,i);if(r)throw TypeError(r);ks(e.searchParams).updateSearchParams(e.query)})),origin:tc(Bl),protocol:tc(Wl,(function(t){var e=zs(this);kl(e,String(t)+":",yl)})),username:tc(ql,(function(t){var e=zs(this),i=rs(String(t));if(!pl(e)){e.username="";for(var r=0;r<i.length;r++)e.username+=cl(i[r],ll)}})),password:tc(Vl,(function(t){var e=zs(this),i=rs(String(t));if(!pl(e)){e.password="";for(var r=0;r<i.length;r++)e.password+=cl(i[r],ll)}})),host:tc(Yl,(function(t){var e=zs(this);e.cannotBeABaseURL||kl(e,String(t),Rl)})),hostname:tc(Xl,(function(t){var e=zs(this);e.cannotBeABaseURL||kl(e,String(t),Al)})),port:tc(Gl,(function(t){var e=zs(this);pl(e)||(""==(t=String(t))?e.port=null:kl(e,t,El))})),pathname:tc(Jl,(function(t){var e=zs(this);e.cannotBeABaseURL||(e.path=[],kl(e,t+"",Fl))})),search:tc(Kl,(function(t){var e=zs(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",kl(e,t,$l)),ks(e.searchParams).updateSearchParams(e.query)})),searchParams:tc(Zl),hash:tc(Ql,(function(t){var e=zs(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",kl(e,t,Dl)):e.fragment=null}))}),ot(zl,"toJSON",(function(){return Hl.call(this)}),{enumerable:!0}),ot(zl,"toString",(function(){return Hl.call(this)}),{enumerable:!0}),$s){var ec=$s.createObjectURL,ic=$s.revokeObjectURL;ec&&ot(Nl,"createObjectURL",(function(t){return ec.apply($s,arguments)})),ic&&ot(Nl,"revokeObjectURL",(function(t){return ic.apply($s,arguments)}))}function rc(t,e){var i=new FileReader;i.readAsDataURL(t),i.onload=function(){e(i.result)}}function nc(t,e,i){var r;if(r=navigator.userAgent.indexOf("MSIE")>=1?t.value:(navigator.userAgent.indexOf("Firefox")>0||navigator.userAgent.indexOf("Chrome"),window.URL.createObjectURL(t.files.item(0)))){var n=document.createElement("canvas"),o=n.getContext("2d"),a=new Image;a.crossOrigin="Anonymous",a.onload=function(){n.height=a.height,n.width=a.width,o.drawImage(a,0,0);var t=n.toDataURL(i||"image/png");e.call(this,t,a.width,a.height),n=null},a.src=r}else e.call(this,null)}function oc(t,e,i,r,n,o,a,s,l,c){"boolean"!=typeof a&&(l=s,s=a,a=!1);var u,h="function"==typeof i?i.options:i;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,n&&(h.functional=!0)),r&&(h._scopeId=r),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=u):e&&(u=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u)if(h.functional){var f=h.render;h.render=function(t,e){return u.call(e),f(t,e)}}else{var p=h.beforeCreate;h.beforeCreate=p?[].concat(p,u):[u]}return i}Or(Nl,"URL"),fe({global:!0,forced:!Za,sham:!s},{URL:Nl});var ac={name:"",components:{},props:{timeout:{default:1e4,type:Number},disabled:{default:!1,type:Boolean},tip:{default:"点击上传",type:String},data:{type:String},serverUrl:{type:String},accept:{type:String},httpHeaders:{validator:function(t){return!t||"object"===n(t)}},breakpointResume:{validator:function(t){return!t||"function"==typeof t}},crossDomain:{default:!0,type:Boolean},withCredentials:{default:!0,type:Boolean},maxFileSize:{default:0,type:Number},coverUrl:{default:"",type:String},enableDragFile:{default:!0,type:Boolean},textErrFileNotFound:{default:"未选择文件!",type:String},textErrFileSizeExceed:{default:"选择的文件大小超出最大值!",type:String},textErrFileHashError:{default:"计算文件哈希值时发生错误,请重新选择文件!",type:String},textErrNetError:{default:"网络错误,请稍后重试!",type:String}},data:function(){return{classDrapEnter:!1,coverRealUrl:"",percentage:"0%",uploader:null,isUploading:!1,fileIsImage:!0,filename:null,fileType:null}},watch:{coverUrl:function(t,e){this.coverRealUrl=t},enableDragFile:function(t,e){this.enableDragFile(t)}},mounted:function(){this.coverRealUrl=this.coverUrl,this.enableDragFile&&this.enableFiledrag(this.enableDragFile)},methods:{reset:function(){this.uploader&&(this.uploader.abort(),this.uploader=null);var t=this.$refs.fileInput;this.percentage="0%",t.value="",this.coverRealUrl=null,this.fileType=null,this.filename=null,this.isUploading=!1},upload:function(e,i){var r,n=this;if(this.uploader&&(this.uploader.abort(),this.uploader=null,this.isUploading=!1),this.percentage="0%",this.coverRealUrl=null,this.fileType=null,this.filename=null,this.isUploading=!1,i)if(0==i.type.indexOf("image/"))rc(i,function(t){o(this,n),r=t}.bind(this)),this.fileIsImage=!0,this.filename=null;else{var a=i.name.lastIndexOf(".");a=i.name.substr(a+1),this.fileType=this.getSupportFileTypeIcon(a),this.fileIsImage=!1,this.filename=i.name}else{var s=this.$refs.fileInput;if(0==s.files[0].type.indexOf("image/"))nc(s,function(t,e,i){o(this,n),r=t}.bind(this)),this.fileIsImage=!0,this.filename=null;else{var l=s.files[0].name.lastIndexOf(".");l=s.files[0].name.substr(l+1),this.fileType=this.getSupportFileTypeIcon(l),this.fileIsImage=!1,this.filename=s.files[0].name}}var c={timeout:this.timeout,data:this.data,crossDomain:this.crossDomain,withCredentials:this.withCredentials,headers:this.httpHeaders,breakpointResume:this.breakpointResume,fileInfo:i?{fileObj:i}:{formObj:$(this.$refs.form),fileObj:$(this.$refs.fileInput)},uploadUrl:this.serverUrl,maxFileSize:this.maxFileSize,beginCB:function(t,e){o(this,n),this.uploader=e,this.isUploading=!0}.bind(this),finishCB:function(e,i,a){o(this,n),this.percentage="0%",this.isUploading=!1,e?(e==rr?t.apiWidget.showAlert(this.textErrFileNotFound):e==nr?t.apiWidget.showAlert(this.textErrFileSizeExceed):e==or?t.apiWidget.showAlert(this.textErrFileHashError):e==ar?t.apiWidget.showAlert(this.textErrNetError):t.apiWidget.showAlert(e.toString()),this.coverRealUrl=null,this.fileType=null,this.filename=null,this.$emit("uploadError",e)):(this.coverRealUrl=r,this.$emit("uploadSuccess",a))}.bind(this),progressCB:function(t,e){o(this,n),e=0==e?.01:e,this.percentage=100*e+"%",this.$emit("uploadProgress",e)}.bind(this)};c.uploadUrl?lr(c):(this.reset(),t.apiWidget.showAlert("props `serverUrl` is null"))},getSupportFileTypeIcon:function(t){if(t=t.toLowerCase(),!Number.isNaN(Number.parseInt(t[0])))return"_"+t;switch(t){case"doc":case"docx":return"doc";case"ppt":case"pptx":return"ppt";case"xls":case"xlsx":return"xls";default:return t}},browseFile:function(){return"0%"!=this.percentage||this.$refs.fileInput.click(),!1},enableFiledrag:function(t){this.$refs.main.ondragover=null,this.$refs.main.ondrop=null,this.$refs.main.ondragenter=null,this.$refs.main.ondragleave=null,t&&(document.ondragover=function(t){t.preventDefault()},document.ondrop=function(t){t.preventDefault()},this.$refs.main.ondragover=function(t){t.preventDefault()},this.$refs.main.ondrop=this._dropHandle,this.$refs.main.ondragenter=this._dragEnter,this.$refs.main.ondragleave=this._dragLeave)},_dragEnter:function(){this.classDrapEnter=!0},_dragLeave:function(){this.classDrapEnter=!1},_dropHandle:function(t){this.reset();var e=t.dataTransfer.files;if(e.length>0){var i=e[0],r=this.accept;if(r){r=(r=febs.String.replace(r," ","")).split(",");for(var n=i.type.split("/"),o=0;o<r.length;o++){var a=r[o].split("/");n[0]!=a[0]&&"*"!=a[0]||"*"!=a[1]&&n[1]!=a[1]||this.upload(null,i)}return}this.upload(null,i)}}}},sc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bp-uploader",class:{"bp-uploader__disabled":t.disabled,"bp-uploader__drag":t.classDrapEnter},on:{click:function(e){return e.stopPropagation(),t.browseFile.apply(null,arguments)}}},[i("div",{staticClass:"bp-uploader__progress",style:{width:t.percentage}}),t._v(" "),i("div",{ref:"main",staticClass:"bp-uploader__file-content-main",staticStyle:{width:"100%",height:"100%"}},[t.fileIsImage&&t.isUploading?i("div",{staticClass:"bp-uploader__add-icon",attrs:{"data-action":"uploading"},on:{click:function(e){return e.stopPropagation(),t.reset()}}},[i("bp-icon",{attrs:{name:"bp-uploader_cancel",width:"22px",height:"22px"}})],1):t.fileIsImage&&t.coverRealUrl&&t.coverRealUrl.length>0?i("div",{staticStyle:{flex:"1"}},[i("img",{staticClass:"bp-uploader__cover",attrs:{src:t.coverRealUrl,alt:"",title:t.tip}})]):t.fileIsImage?i("div",{staticClass:"bp-uploader__add-icon",attrs:{title:t.tip}},[i("bp-icon",{attrs:{name:"bp-uploader_add",width:"22px",height:"22px"}})],1):t._e(),t._v(" "),!t.fileIsImage&&t.isUploading?i("div",{staticClass:"bp-uploader__add-icon bp-uploader__uploading-icon-file",attrs:{"data-action":"uploading"},on:{click:function(e){return e.stopPropagation(),t.reset()}}},[i("bp-icon",{attrs:{name:"bp-uploader_cancel",width:"22px",height:"22px"}})],1):t._e(),t._v(" "),!t.fileIsImage&&t.fileType?i("div",{class:t.isUploading?"bp-uploader__uploading-icon-filetype":"",staticStyle:{flex:"1"}},[i("div",{staticClass:"bp-uploader__cover bp-uploader__cover__file",attrs:{title:t.tip,"data-type":t.fileType}}),t._v(" "),i("div",{staticClass:"bp-uploader__cover__file__name"},[t._v(t._s(t.filename))])]):t.fileIsImage||t.isUploading?t._e():i("div",{staticClass:"bp-uploader__add-icon",attrs:{title:t.tip}},[i("bp-icon",{attrs:{name:"bp-uploader_add",width:"22px",height:"22px"}})],1),t._v(" "),i("form",{ref:"form",staticClass:"bp-uploader__fileform",style:{visibility:"hidden",position:"absolute",width:"100%",height:"100%",top:0,left:0,opacity:0},attrs:{method:"post",role:"form",enctype:"multipart/form-data"}},[i("input",{ref:"fileInput",staticClass:"bp-uploader__img_input",attrs:{type:"file",name:"file",accept:t.accept},on:{change:t.upload}})])]),t._v(" "),t._t("default")],2)};sc._withStripped=!0;var lc=oc({render:sc,staticRenderFns:[]},void 0,ac,void 0,!1,void 0,!1,void 0,void 0,void 0);function cc(t){var i=t.finishCB,r=t.progressCB,n=t.beginCB,o=t.uploadUrl,a=t.maxFileSize?t.maxFileSize:Number.MAX_SAFE_INTEGER,s=t.sliceOffset||0,l=t.sliceLength||-1,c=function(t,e){for(var i=t.split(","),r=i[0].match(/:(.*?);/)[1],n=atob(i[1]),o=n.length,a=new Uint8Array(o);o--;)a[o]=n.charCodeAt(o);var s=new Blob([a],{type:r});return s.lastModifiedDate=new Date,s.name=e||"image",s}(t.fileInfo.imageBase64,t.fileInfo.filename);if(t.fileObj=t.fileInfo.fileObj,c)if(c.size>a)i&&i(nr,t.fileObj,null);else{var u=o.indexOf("?");u<0?o+="?":u<o.length-1&&(o+="&");var h=t.timeout;t.checkoutCrc32?crypt.crc32_fileSegment(c,s,l,function(t){t?f.bind(e.utils.mergeMap(this,{crc:t}))():this.control_upload_cb&&this.control_upload_cb(or,this.fileObj,null)}.bind({timeout:h,checkoutCrc32:t.checkoutCrc32,control_upload_url:o,fileObj:t.fileObj,file:c,data:t.data,control_upload_progress_cb:r,control_upload_cb:i,crossDomain:t.crossDomain,headers:t.headers,withCredentials:t.withCredentials,control_upload_begin_cb:n,sliceOffset:s,sliceLength:l})):f.bind({timeout:h,checkoutCrc32:t.checkoutCrc32,control_upload_url:o,fileObj:t.fileObj,file:c,data:t.data,control_upload_progress_cb:r,control_upload_cb:i,crossDomain:t.crossDomain,headers:t.headers,withCredentials:t.withCredentials,control_upload_begin_cb:n,sliceOffset:s,sliceLength:l})()}else i&&i(rr,t.fileObj,null);function f(){var t,e=this.file.size;-1==this.sliceLength&&(this.sliceLength=e-this.sliceOffset),e-=this.sliceOffset,this.sliceLength>e?this.sliceLength=e:e=this.sliceLength,t=this.checkoutCrc32?this.control_upload_url+"crc32="+this.crc+"&size="+e+(this.data?"&data="+this.data:""):this.control_upload_url+"size="+e;var i=this.sliceOffset/this.file.size,r=this.sliceLength/this.file.size;try{var n=this,o=sr([this.file],{sliceOffset:this.sliceOffset,sliceLength:this.sliceLength,fileIndex:0,timeout:this.timeout,method:"POST",url:t,progress:function(t){t=t?parseFloat(t.toFixed(2)):0,t=i+r*t,t=parseFloat(t.toFixed(2)),n.control_upload_progress_cb&&n.control_upload_progress_cb(n.fileObj,t)},error:function(){n.control_upload_cb&&n.control_upload_cb(ar,n.fileObj,null)},success:function(t){try{t=JSON.parse(t)}catch(e){t={}}n.control_upload_cb&&n.control_upload_cb(null,n.fileObj,t),n.fileObj[0].value=""},complete:function(t,e){if(200!=t.status)try{n.control_upload_cb&&n.control_upload_cb(ar,n.fileObj,e,t)}catch(t){}else n.fileObj[0].value=""},crossDomain:this.crossDomain,headers:this.headers,withCredentials:this.withCredentials});this.control_upload_begin_cb&&this.control_upload_begin_cb(this.fileObj,o)}catch(t){this.control_upload_cb&&this.control_upload_cb(t,this.fileObj,null)}}}fe({target:"Array",proto:!0},{fill:Xr}),dr("fill");var uc={name:"vue-bp-uploader-image-crop-preview",components:{bpIcon:bpLibs.VueObject.bpIcon},props:{visible:{default:!1,type:Boolean},clipSharp:{validator:function(t){return!t||"square"===t||"circle"===t}},outputFormat:{default:"image/png",type:String}},data:function(){return{visibleReal:!1,clipPos:{top:0,bottom:0,left:0,right:0},clipSharpReal:null,outputFormatReal:null}},watch:{visible:function(t){this.visibleReal=t},visibleReal:function(t){this.visible!=t&&this.$emit("update:visible",t),t||this.$timer.clearAllInterval()}},mounted:function(){this.clipSharpReal=this.clipSharp,this.outputFormatReal=this.outputFormat,this.visibleReal=this.visible,this.canvasSize=e.dom.getViewPort(),this.canvasSize.width*=.9,this.canvasSize.width=Math.floor(this.canvasSize.width),this.canvasSize.height*=.9,this.canvasSize.height=Math.floor(this.canvasSize.height),$(this.$refs.canvas).attr("width",this.canvasSize.width),$(this.$refs.canvas).attr("height",this.canvasSize.height),e.dom.addEventListener(window,"orientationchange",this.onresize,!1),e.utils.browserIsMobile()||e.dom.addEventListener(window,"resize",this.onresize)},beforeDestroy:function(){e.dom.removeEventListener(window,"orientationchange",this.onresize,!1),e.utils.browserIsMobile()||e.dom.removeEventListener(window,"resize",this.onresize)},methods:{getImageBase64:function(t){var e=Math.floor(this.canvas.canvas.width),i=Math.floor(this.canvas.canvas.height),r=Math.floor(Number(e-this.clipPos.left-this.clipPos.right)),n=Math.floor(Number(i-this.clipPos.top-this.clipPos.bottom)),o=document.createElement("canvas"),a=o.getContext("2d");o.width=Math.floor(r/e*this.image.width),this.clipSharpReal?o.height=o.width:o.height=Math.floor(n/i*this.image.height),a.drawImage(this.image,this.clipPos.left/e*this.image.width,this.clipPos.top/i*this.image.height,r/e*this.image.width,n/i*this.image.height,0,0,o.width,o.height);var s=o.toDataURL(t||"image/png");return o=null,s},onok:function(){var t=this.getImageBase64(this.outputFormatReal);this.visibleReal=!1,this.$emit("clipFinish",t),this._clipFinishListener&&this._clipFinishListener(t)},_addClipFinishListener:function(t){this._clipFinishListener=t},onresize:function(){this.visibleReal&&this.drawImage(this.imageBase64)},drawImage:function(t){this.canvasSize=e.dom.getViewPort(),this.canvasSize.width*=.9,this.canvasSize.width=Math.floor(this.canvasSize.width),this.canvasSize.height*=.9,this.canvasSize.height=Math.floor(this.canvasSize.height),this.imageBase64=t;var i=new Image,r=this;i.onload=function(){var t=this,e=i.width,n=i.height,a=r.canvasSize.width,s=r.canvasSize.height,l=1,c=1;e>a&&(l=a/e),n>s&&(c=s/n);var u=(l=Math.min(l,c))*e,h=l*n;u=Math.floor(u),h=Math.floor(h),r.canvasSize.width=u,r.canvasSize.height=h,r.clipSharpReal?r.clipPos={top:u<h?(h-u)/2:0,bottom:u>h?0:h-u-(h-u)/2,left:u>h?(u-h)/2:0,right:u>h?u-h-(u-h)/2:0}:r.clipPos={top:0,bottom:0,left:0,right:0},$(r.$refs.canvas).attr("width",u),$(r.$refs.canvas).attr("height",h),$(r.$refs.canvasWrap).css("width",u+"px"),$(r.$refs.canvasWrap).css("height",h+"px"),r.canvas=r.$refs.canvas.getContext("2d"),r.$timer.setTimeout(function(){o(this,t),r.onDrawImage()}.bind(this),10)},i.src=t,this.visibleReal=!0,this.image=i},onDrawImage:function(){var t=this.canvas;if(t.clearRect(0,0,t.canvas.width,t.canvas.height),t.save(),t.globalAlpha=1,t.drawImage(this.image,0,0,this.image.width,this.image.height,0,0,t.canvas.width,t.canvas.height),t.globalAlpha=.3,t.fillStyle="#000",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.beginPath(),"circle"===this.clipSharpReal){var e=Number(t.canvas.width-this.clipPos.left-this.clipPos.right)/2;t.arc(Math.floor(this.clipPos.left+e),Math.floor(this.clipPos.top+e),e,0,2*Math.PI,!0)}else t.rect(Math.floor(Number(this.clipPos.left)),Math.floor(Number(this.clipPos.top)),Math.floor(Number(t.canvas.width-this.clipPos.left-this.clipPos.right)),Math.floor(Number(t.canvas.height-this.clipPos.top-this.clipPos.bottom)));t.fill(),t.clip(),t.globalAlpha=1,t.drawImage(this.image,0,0,this.image.width,this.image.height,0,0,t.canvas.width,t.canvas.height),t.restore()},onClipMouseDown:function(t){var i=t.currentTarget;$(i).hasClass("bp-uploader-image-crop-preview__cliprect")&&(this.mouseDown=!0,this.mousePos={x:t.clientX,y:t.clientY},this.mouseClipPos=e.utils.mergeMap(this.clipPos),this.$timer.setInterval(this.onDrawImage,30))},onClipMouseUp:function(t){if(this.mouseDown){var e=t.currentTarget;e=$(e),this._moveClip(e,t.clientX,t.clientY)}this.mouseDown=!1,this.mouseHornDown&&this._moveHornClip(t.clientX,t.clientY),this.mouseHornDown=null,this.$timer.clearAllInterval()},onClipMouseMove:function(t){if(this.mouseHornDown)this._moveHornClip(t.clientX,t.clientY);else if(this.mouseDown){var e=t.currentTarget;e=$(e),this._moveClip(e,t.clientX,t.clientY)}},onClipHornMouseDown:function(t){var i=t.currentTarget;$(i).hasClass("bp-uploader-image-crop-preview__cliprect__horn")&&(this.mouseHornDown=$(i),this.mouseHornPos={x:t.clientX,y:t.clientY},this.mouseHornClipPos=e.utils.mergeMap(this.clipPos),this.$timer.setInterval(this.onDrawImage,30))},_moveClip:function(t,e,i){var r={x:e-this.mousePos.x,y:i-this.mousePos.y};r.y<0?this.mouseClipPos.top+r.y<0&&(r.y=-this.mouseClipPos.top):r.y>0&&this.mouseClipPos.bottom-r.y<0&&(r.y=this.mouseClipPos.bottom),r.x<0?this.mouseClipPos.left+r.x<0&&(r.x=-this.mouseClipPos.left):r.x>0&&this.mouseClipPos.right-r.x<0&&(r.x=this.mouseClipPos.right),this.$set(this.clipPos,"top",this.mouseClipPos.top+r.y),this.$set(this.clipPos,"left",this.mouseClipPos.left+r.x),this.$set(this.clipPos,"bottom",this.mouseClipPos.bottom-r.y),this.$set(this.clipPos,"right",this.mouseClipPos.right-r.x)},_moveHornClip:function(t,e){var i=this,r={x:t-this.mouseHornPos.x,y:e-this.mouseHornPos.y},n=this.mouseHornDown.attr("data-direction");"n"!=n&&"ne"!=n&&"nw"!=n||(this.mouseHornClipPos.top+r.y+this.clipPos.bottom>this.canvasSize.height?r.y=this.canvasSize.height-this.clipPos.bottom-this.mouseHornClipPos.top-c:this.mouseHornClipPos.top+r.y<0&&(r.y=-this.mouseHornClipPos.top)),"s"!=n&&"se"!=n&&"sw"!=n||(this.clipPos.top+this.mouseHornClipPos.bottom-r.y>this.canvasSize.height?r.y=-(this.canvasSize.height-this.clipPos.top-this.mouseHornClipPos.bottom-c):this.mouseHornClipPos.bottom-r.y<0&&(r.y=this.mouseHornClipPos.bottom)),"w"!=n&&"nw"!=n&&"sw"!=n||(this.mouseHornClipPos.left+r.x+this.clipPos.right>this.canvasSize.width?r.x=this.canvasSize.width-this.clipPos.right-this.mouseHornClipPos.left-c:this.mouseHornClipPos.left+r.x<0&&(r.x=-this.mouseHornClipPos.left)),"e"!=n&&"ne"!=n&&"se"!=n||(this.clipPos.left+this.mouseHornClipPos.right-r.x>this.canvasSize.width?r.x=-(this.canvasSize.width-this.clipPos.left-this.mouseHornClipPos.right-c):this.mouseHornClipPos.right-r.x<0&&(r.x=this.mouseHornClipPos.right));var a=0;if(this.clipSharpReal){var s=Math.abs(r.x),l=Math.abs(r.y);a=Math.min(s,l)}var c=10,u=function(){o(this,i),this.$set(this.clipPos,"top",this.mouseHornClipPos.top+r.y)}.bind(this),h=function(){o(this,i),this.$set(this.clipPos,"bottom",this.mouseHornClipPos.bottom-r.y)}.bind(this),f=function(){o(this,i),this.$set(this.clipPos,"left",this.mouseHornClipPos.left+r.x)}.bind(this),p=function(){o(this,i),this.$set(this.clipPos,"right",this.mouseHornClipPos.right-r.x)}.bind(this);switch(n){case"n":u();break;case"ne":this.clipSharpReal&&(r.x>0?(r.x=a,r.y=-a):(r.x=-a,r.y=a)),u(),p();break;case"s":h();break;case"sw":this.clipSharpReal&&(r.x>0?(r.x=a,r.y=-a):(r.x=-a,r.y=a)),f(),h();break;case"se":this.clipSharpReal&&(r.x>0?(r.x=a,r.y=a):(r.x=-a,r.y=-a)),h(),p();break;case"w":f();break;case"nw":this.clipSharpReal&&(r.x>0?(r.x=a,r.y=a):(r.x=-a,r.y=-a)),f(),u();break;case"e":p()}}}},hc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bp-uploader-image-crop-preview",style:{display:t.visibleReal?null:"none"},on:{click:function(t){t.stopPropagation()},mousemove:function(e){return e.stopPropagation(),t.onClipMouseMove.apply(null,arguments)},mouseup:function(e){return e.stopPropagation(),t.onClipMouseUp.apply(null,arguments)},mouseleave:t.onClipMouseUp}},[i("bp-icon",{staticClass:"bp-uploader-image-crop-preview__cancel",attrs:{name:"bp-uploader_cancel",width:"22px",height:"22px"},on:{click:function(e){t.visibleReal=!1}}}),t._v(" "),i("bp-icon",{staticClass:"bp-uploader-image-crop-preview__ok",attrs:{name:"bp-uploader_ok",width:"22px",height:"22px"},on:{click:t.onok}}),t._v(" "),i("div",{ref:"canvasWrap",staticStyle:{position:"relative"}},[i("canvas",{ref:"canvas"}),t._v(" "),i("div",{ref:"canvasClip",staticClass:"bp-uploader-image-crop-preview__cliprect",style:{left:t.clipPos.left+"px",right:t.clipPos.right+"px",top:t.clipPos.top+"px",bottom:t.clipPos.bottom+"px"},on:{mousedown:function(e){return e.stopPropagation(),t.onClipMouseDown.apply(null,arguments)}}},[i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"nw"},on:{mousedown:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}}),t._v(" "),i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"ne"},on:{mousedown:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}}),t._v(" "),i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"sw"},on:{mousedown:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}}),t._v(" "),i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"se"},on:{mousedown:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}}),t._v(" "),t.clipSharpReal?t._e():i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"n"},on:{mousedown:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}}),t._v(" "),t.clipSharpReal?t._e():i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"s"},on:{mousedown:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}}),t._v(" "),t.clipSharpReal?t._e():i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"w"},on:{mousedown:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}}),t._v(" "),t.clipSharpReal?t._e():i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"e"},on:{mousedown:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}})])])],1)};hc._withStripped=!0;var fc=oc({render:hc,staticRenderFns:[]},void 0,uc,void 0,!1,void 0,!1,void 0,void 0,void 0),pc={name:"vue-bp-uploader-image-crop-preview",components:{bpIcon:r.VueObject.bpIcon},props:{visible:{default:!1,type:Boolean},clipSharp:{validator:function(t){return!t||"square"===t||"circle"===t}},outputFormat:{default:"image/png",type:String}},data:function(){return{visibleReal:!1,clipPos:{top:0,bottom:0,left:0,right:0},canvasMarginHeight:60,clipPadding:30,clipSharpReal:null,outputFormatReal:null,imageBase64:null,imgScale:1}},watch:{visible:function(t){this.visibleReal=t},visibleReal:function(t){this.visible!=t&&this.$emit("update:visible",t)}},mounted:function(){this.clipSharpReal=this.clipSharp,this.outputFormatReal=this.outputFormat,this.visibleReal=this.visible,e.dom.addEventListener(window,"orientationchange",this.onresize,!1),this.imgScale=1,this.imgOffset={x:0,y:0},this.gesture=new r.Gesture(this.$refs.canvasWrap);var t=this.gesture.enablePinchRecognizer();this.gesture.enablePanRecognizer({pointers:1}).requireFailure(t),this.gesture.on("pan",this.onClipMouseMove).on("pinch",this.onClipMouseMove)},beforeDestroy:function(){e.dom.removeEventListener(window,"orientationchange",this.onresize,!1),this.gesture.dispose()},methods:{getImageBase64:function(t){var e=this.image,i=(e.width,e.height,this.imgOffset.x),r=this.imgOffset.y,n=this.canvas.canvas.width,o=this.canvas.canvas.height,a=document.createElement("canvas"),s=a.getContext("2d");a.width=(n-2*(this.clipPos.left+this.clipPos.right+2*this.clipPadding))/2,a.height=(o-2*(this.clipPos.top+this.clipPos.bottom+2*this.clipPadding))/2;var l=i+2*(this.clipPos.left+this.clipPadding)/this.imgScale,c=r+2*(this.clipPos.top+this.clipPadding)/this.imgScale;s.drawImage(e,l,c,2*a.width/this.imgScale,2*a.height/this.imgScale,0,0,a.width,a.height);var u=a.toDataURL(t||"image/png");return a=null,u},oncancel:function(){this.visibleReal=!1,this.$emit("cancel"),this._cancelListener&&this._cancelListener()},onok:function(){var t=this.getImageBase64(this.outputFormatReal);this.visibleReal=!1,this.$emit("clipFinish",t),this._clipFinishListener&&this._clipFinishListener(t)},_addClipFinishListener:function(t){this._clipFinishListener=t},_addCancelListener:function(t){this._cancelListener=t},onresize:function(){var t=this;this.visibleReal&&this.$timer.setTimeout(function(){o(this,t),this.drawImage(this.imageBase64)}.bind(this),30)},drawImage:function(t){this.$timer.clearAllAnimationFrame(),this.canvasSize=e.dom.getViewPort(),this.canvasSize.width=Math.floor(this.canvasSize.width),this.canvasSize.height=Math.floor(this.canvasSize.height),this.imageBase64=t;var i=new Image;this.imgScale=1,this.imgOffset={x:0,y:0};var r=this;i.onload=function(){var t=this,e=r.canvasSize.width,n=r.canvasSize.height-r.canvasMarginHeight;e*=2,n*=2,r.canvasSize.width=e,r.canvasSize.height=n,r.imgScale=Math.max(e/i.width,n/i.height);var a=e/i.width>n/i.height;e/=2,n/=2,r.clipPos={top:e<n?(n-e)/2:0,bottom:e>n?0:n-e-(n-e)/2,left:e>n?(e-n)/2:0,right:e>n?e-n-(e-n)/2:0};var s=e-r.clipPos.left-r.clipPos.right-2*r.clipPadding,l=n-r.clipPos.top-r.clipPos.bottom-2*r.clipPadding;r.imgScaleMin=a?s/e*r.imgScale:l/n*r.imgScale,r.imgScale0=function(e){o(this,t);var i=r.imgScale*r.image.width;e=(e/.05*2+i)/i;var n=r.imgScale*e;return n=Math.min(n,4),n=Math.max(n,r.imgScaleMin)}.bind(this),r.imgOffset.x=(i.width-r.canvasSize.width/r.imgScale)/2,r.imgOffset.y=(i.height-r.canvasSize.height/r.imgScale)/2,r.imgOffset.x<0&&(r.imgOffset.x=r.imgOffset.x*r.imgScale),r.imgOffset.y<0&&(r.imgOffset.y=r.imgOffset.y*r.imgScale),r.$refs.canvas.width=r.canvasSize.width,r.$refs.canvas.height=r.canvasSize.height,$(r.$refs.canvas).css("width",r.canvasSize.width/2+"px"),$(r.$refs.canvas).css("height",r.canvasSize.height/2+"px"),$(r.$refs.canvasWrap).css("width",r.canvasSize.width/2+"px"),$(r.$refs.canvasWrap).css("height",r.canvasSize.height/2+"px"),r.canvas=r.$refs.canvas.getContext("2d");var c=function(){var e=this;o(this,t),r.$timer.requestAnimationFrame(function(){o(this,e),u()}.bind(this))}.bind(this),u=function(){var e=this;o(this,t),r.$timer.requestAnimationFrame(function(){o(this,e),r.onDrawImage(),c()}.bind(this))}.bind(this);u()},i.src=t,this.visibleReal=!0,this.image=i},onDrawImage:function(){var t=this.image,e=t.width,i=t.height,r=this.imgOffset.x,n=this.imgOffset.y,o=(e-r)*this.imgScale,a=(i-n)*this.imgScale,s=this.canvas,l=s.canvas.width,c=s.canvas.height;if(s.clearRect(0,0,l,c),s.save(),s.globalAlpha=1,s.drawImage(t,r,n,e-r,i-n,0,0,o,a),s.globalAlpha=.3,s.fillStyle="#000",s.fillRect(0,0,l,c),s.beginPath(),"circle"===this.clipSharpReal){var u=Number(l/2-this.clipPos.left-this.clipPos.right)-2*this.clipPadding;s.arc(Math.floor(2*(this.clipPos.left+this.clipPadding)+u),Math.floor(2*(this.clipPos.top+this.clipPadding)+u),u,0,2*Math.PI,!0)}else s.rect(Math.floor(2*(this.clipPos.left+this.clipPadding)),Math.floor(2*(this.clipPos.top+this.clipPadding)),Math.floor(Number(l-2*(this.clipPos.left+this.clipPos.right+2*this.clipPadding))),Math.floor(Number(c-2*(this.clipPos.top+this.clipPos.bottom+2*this.clipPadding))));s.fill(),s.clip(),s.globalAlpha=1,s.clearRect(0,0,l,c),s.drawImage(t,r,n,e-r,i-n,0,0,o,a),s.restore()},onClipMouseDown:function(t){var i;i=t.changedTouches?t.changedTouches[0]:{clientX:t.clientX,clientY:t.clientY},this.mousePos={x:i.clientX,y:i.clientY},this.mouseClipPos=e.utils.mergeMap(this.clipPos),this.mouseImgOffset=e.utils.mergeMap(this.imgOffset),t.preventDefault()},onClipMouseUp:function(t){this._rightImgScale(),this._rightImgOffset(),this.mouseHornDown&&this._moveHornClip(t),this.mouseHornDown=null,t.preventDefault()},onMainMouseMove:function(t){this._moveHornClip(t),t.preventDefault()},onClipMouseMove:function(t){"pan"==t.type?this._moveClip(t.center.x,t.center.y):"pinch"==t.type&&this._moveScaleClip(t.center,t.scale),t.preventDefault()},onClipHornMouseDown:function(t){var i;i=t.changedTouches?t.changedTouches[0]:{clientX:t.clientX,clientY:t.clientY};var r=t.currentTarget;$(r).hasClass("bp-uploader-image-crop-preview__cliprect__horn")&&(this.mouseHornDown=$(r),this.mouseHornPos={x:i.clientX,y:i.clientY},this.mouseHornClipPos=e.utils.mergeMap(this.clipPos))},_moveClip:function(t,e){if(!this.mouseHornDown&&!Number.isNaN(t)&&!Number.isNaN(e)&&this.mousePos){var i=t-this.mousePos.x,r=e-this.mousePos.y;this.imgOffset.x=this.mouseImgOffset.x-2*i,this.imgOffset.y=this.mouseImgOffset.y-2*r}},_moveScaleClip:function(t,e){var i=(e=e>1?this.imgScale0(e-1):this.imgScale0(-(1-e)))/this.imgScale;this.imgScale=e,this.imgOffset.x*=i,this.imgOffset.y*=i,this._rightImgScale(),this._rightImgOffset()},_moveHornClip:function(t){var e=this;if(this.mouseHornDown){var i,r={x:(i=t.changedTouches?t.changedTouches[0]:{clientX:t.clientX,clientY:t.clientY}).clientX-this.mouseHornPos.x,y:i.clientY-this.mouseHornPos.y},n=this.mouseHornDown.attr("data-direction");"n"!=n&&"ne"!=n&&"nw"!=n||(this.mouseHornClipPos.top+r.y+this.clipPos.bottom+2*this.clipPadding>this.canvasSize.height/2-60?r.y=this.canvasSize.height/2-this.clipPos.bottom-this.mouseHornClipPos.top-60-2*this.clipPadding:this.mouseHornClipPos.top+r.y<0&&(r.y=-this.mouseHornClipPos.top)),"s"!=n&&"se"!=n&&"sw"!=n||(this.clipPos.top+this.mouseHornClipPos.bottom-r.y+2*this.clipPadding>this.canvasSize.height/2-60?r.y=-(this.canvasSize.height/2-this.clipPos.top-this.mouseHornClipPos.bottom-60-2*this.clipPadding):this.mouseHornClipPos.bottom-r.y<0&&(r.y=this.mouseHornClipPos.bottom)),"w"!=n&&"nw"!=n&&"sw"!=n||(this.mouseHornClipPos.left+r.x+this.clipPos.right+2*this.clipPadding>this.canvasSize.width/2-60?r.x=this.canvasSize.width/2-this.clipPos.right-this.mouseHornClipPos.left-60-2*this.clipPadding:this.mouseHornClipPos.left+r.x<0&&(r.x=-this.mouseHornClipPos.left)),"e"!=n&&"ne"!=n&&"se"!=n||(this.clipPos.left+this.mouseHornClipPos.right-r.x+2*this.clipPadding>this.canvasSize.width/2-60?r.x=-(this.canvasSize.width/2-this.clipPos.left-this.mouseHornClipPos.right-60-2*this.clipPadding):this.mouseHornClipPos.right-r.x<0&&(r.x=this.mouseHornClipPos.right));var a=function(){o(this,e),this.$set(this.clipPos,"top",this.mouseHornClipPos.top+r.y)}.bind(this),s=function(){o(this,e),this.$set(this.clipPos,"bottom",this.mouseHornClipPos.bottom-r.y)}.bind(this),l=function(){o(this,e),this.$set(this.clipPos,"left",this.mouseHornClipPos.left+r.x)}.bind(this),c=function(){o(this,e),this.$set(this.clipPos,"right",this.mouseHornClipPos.right-r.x)}.bind(this);switch(n){case"n":a();break;case"ne":a(),c();break;case"s":s();break;case"sw":l(),s();break;case"se":s(),c();break;case"w":l();break;case"nw":l(),a();break;case"e":c()}}},_rightImgOffset:function(){var t=this.clipPadding,e=this.clipPos;-this.imgOffset.x*this.imgScale>2*(t+e.left)?this.imgOffset.x=2*-(t+e.left)/this.imgScale:(this.image.width-this.imgOffset.x)*this.imgScale<this.canvasSize.width-2*(t+e.right)&&(this.imgOffset.x=this.image.width-(this.canvasSize.width-2*(t+e.right))/this.imgScale),-this.imgOffset.y*this.imgScale>2*(t+e.top)?this.imgOffset.y=2*-(t+e.top)/this.imgScale:(this.image.height-this.imgOffset.y)*this.imgScale<this.canvasSize.height-2*(t+e.bottom)&&(this.imgOffset.y=this.image.height-(this.canvasSize.height-2*(t+e.bottom))/this.imgScale)},_rightImgScale:function(){this.imgScale=Math.max(this.imgScale,this.imgScaleMin)}}},dc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"main",staticClass:"bp-uploader-image-crop-preview__mobile",style:{display:t.visibleReal?null:"none"},on:{click:function(t){t.stopPropagation()}}},[i("button",{staticClass:"bp-uploader-image-crop-preview__cancel",on:{click:function(e){return e.stopPropagation(),t.oncancel.apply(null,arguments)}}}),t._v(" "),i("button",{staticClass:"bp-uploader-image-crop-preview__ok",on:{click:function(e){return e.stopPropagation(),t.onok.apply(null,arguments)}}}),t._v(" "),i("div",{ref:"canvasWrap",staticStyle:{position:"relative"},style:{"margin-top":t.canvasMarginHeight+"px"},on:{touchmove:function(e){return e.stopPropagation(),t.onMainMouseMove.apply(null,arguments)},touchend:function(e){return e.stopPropagation(),t.onClipMouseUp.apply(null,arguments)},touchstart:function(e){return e.stopPropagation(),t.onClipMouseDown.apply(null,arguments)}}},[i("canvas",{ref:"canvas"}),t._v(" "),i("div",{style:{top:t.clipPadding+"px",left:t.clipPadding+"px",bottom:t.clipPadding+"px",right:t.clipPadding+"px",position:"absolute"}},[i("div",{ref:"canvasClip",staticClass:"bp-uploader-image-crop-preview__cliprect",style:{left:t.clipPos.left+"px",right:t.clipPos.right+"px",top:t.clipPos.top+"px",bottom:t.clipPos.bottom+"px"}},[t.clipSharpReal?t._e():i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"n"},on:{touchstart:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}}),t._v(" "),t.clipSharpReal?t._e():i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"e"},on:{touchstart:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}}),t._v(" "),t.clipSharpReal?t._e():i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"s"},on:{touchstart:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}}),t._v(" "),t.clipSharpReal?t._e():i("span",{staticClass:"bp-uploader-image-crop-preview__cliprect__horn",attrs:{"data-direction":"w"},on:{touchstart:function(e){return e.stopPropagation(),t.onClipHornMouseDown.apply(null,arguments)}}})])])])])};dc._withStripped=!0;var gc=oc({render:dc,staticRenderFns:[]},void 0,pc,void 0,!1,void 0,!1,void 0,void 0,void 0),vc=r.device.browserIsMobile()?gc:fc,mc={name:"",components:{bpIcon:r.VueObject.bpIcon},props:{previewRef:{validator:function(t){return!t||"function"==typeof t}},timeout:{default:1e4,type:Number},disabled:{default:!1,type:Boolean},tip:{default:"点击上传",type:String},data:{type:String},serverUrl:{type:String},httpHeaders:{validator:function(t){return!t||"object"===n(t)}},crossDomain:{default:!0,type:Boolean},withCredentials:{default:!0,type:Boolean},maxFileSize:{default:0,type:Number},maxImageSize:{validator:function(t){return!t||t>0},default:1024,type:Number},coverUrl:{default:"",type:String},outputFormat:{default:"image/png",type:String},clipSharp:{validator:function(t){return!t||"square"===t||"circle"===t}},enableDragFile:{default:!0,type:Boolean},textErrFileNotFound:{default:"未选择文件!",type:String},textErrFileSizeExceed:{default:"选择的文件大小超出最大值!",type:String},textErrFileHashError:{default:"计算文件哈希值时发生错误,请重新选择文件!",type:String},textErrNetError:{default:"网络错误,请稍后重试!",type:String}},data:function(){return{classDrapEnter:!1,coverRealUrl:"",percentage:"0%",uploader:null,isUploading:!1}},watch:{coverUrl:function(t,e){this.coverRealUrl=t},enableDragFile:function(t,e){this.enableDragFile(t)}},mounted:function(){var t=this;if(this.coverRealUrl=this.coverUrl,this.enableDragFile&&this.enableFiledrag(this.enableDragFile),this.previewId=null,this.previewRefReal=this.previewRef,this.previewRefReal){if(this.previewRefReal=this.previewRefReal(),!(r.dom.isVueObject(this.previewRefReal)&&this.previewRefReal.$vnode.tag.indexOf("bp-uploader-image-crop-preview")>=0))throw new Error("previewRef is not component of `bpUploaderImagePreview`");this.previewRefReal.$data.clipSharpReal=this.clipSharp,this.previewRefReal.$data.outputFormatReal=this.outputFormat,this.previewRefReal._addClipFinishListener(function(e){o(this,t),this.coverRealUrl=e,this.$refs.fileInput.value="",this.onUpload(this.coverRealUrl)}.bind(this)),this.previewRefReal._addCancelListener(function(){o(this,t),this.$refs.fileInput.value=""}.bind(this))}else this.previewId="c"+febs.crypt.uuid(),$('<div id="'.concat(this.previewId,'"></div>')).appendTo($("body")),this.previewRefReal=new i({render:function(e){var i=this;return o(this,t),e(vc,{attrs:{id:this.previewId},props:{clipSharp:this.clipSharp,outputFormat:this.outputFormat},on:{clipFinish:function(t){o(this,i),this.coverRealUrl=t,this.$refs.fileInput.value="",this.onUpload(this.coverRealUrl)}.bind(this),cancel:function(){o(this,i),this.$refs.fileInput.value=""}.bind(this)}})}.bind(this)}).$mount("#".concat(this.previewId)).$children[0]},beforeDestroy:function(){this.previewId&&$("#"+this.previewId).remove()},methods:{reset:function(){this.uploader&&(this.uploader.abort(),this.uploader=null),this.$refs.fileInput.value="",this.percentage="0%",this.coverRealUrl=null,this.isUploading=!1},onUpload:function(e){var i=this;!function(t,e,i,r){var n=e=e>0?e:1024,o=e,a=new Image;a.addEventListener("load",(function(e){var s,l=!1;if(n<a.naturalWidth&&(l=!0,s=a.naturalWidth/n,o=a.naturalHeight/s),o<a.naturalHeight&&(l=!0,s=a.naturalHeight/o,n=a.naturalWidth/s),!l)return n=a.naturalWidth,o=a.naturalHeight,void(r&&r(t,n,o));var c=document.createElement("canvas");c.width=n,c.height=o;var u=c.getContext("2d");u.clearRect(0,0,n,o),u.drawImage(a,0,0,n,o);var h=c.toDataURL(i||"image/png");c=null,r&&r(h,n,o)})),a.src=t}(e,this.maxImageSize,null,function(e,r,n){var a=this;o(this,i),this.coverRealUrl=e;var s={timeout:this.timeout,data:this.data,crossDomain:this.crossDomain,withCredentials:this.withCredentials,headers:this.httpHeaders,fileInfo:{imageBase64:e,filename:this.filename,fileObj:$(this.$refs.fileInput)},uploadUrl:this.serverUrl,maxFileSize:this.maxFileSize,beginCB:function(t,e){o(this,a),this.uploader=e,this.isUploading=!0}.bind(this),finishCB:function(e,i,r){o(this,a),this.percentage="0%",this.isUploading=!1,e?(e==rr?t.apiWidget.showAlert(this.textErrFileNotFound):e==nr?t.apiWidget.showAlert(this.textErrFileSizeExceed):e==or?t.apiWidget.showAlert(this.textErrFileHashError):e==ar?t.apiWidget.showAlert(this.textErrNetError):t.apiWidget.showAlert(e.toString()),this.reset(),this.$emit("uploadError",e)):(this.coverRealUrl=localImage,this.$emit("uploadSuccess",r))}.bind(this),progressCB:function(t,e){o(this,a),e=0==e?.01:e,this.percentage=100*e+"%",this.$emit("uploadProgress",e)}.bind(this)};s.uploadUrl?cc(s):(this.reset(),t.apiWidget.showAlert("props `serverUrl` is null"))}.bind(this))},upload:function(e,i){var r=this;if(this.uploader&&(this.uploader.abort(),this.uploader=null,this.isUploading=!1),i)rc(i,function(e){o(this,r),e?(this.filename=i.name,this.previewRefReal.drawImage(e)):t.apiWidget.showAlert(this.textErrFileNotFound)}.bind(this));else{var n=this.$refs.fileInput;nc(n,function(e,i,a){o(this,r),e?(this.filename=n.value,this.previewRefReal.drawImage(e)):t.apiWidget.showAlert(this.textErrFileNotFound)}.bind(this))}},browseFile:function(){return"0%"!=this.percentage||this.$refs.fileInput.click(),!1},enableFiledrag:function(t){this.$refs.main.ondragover=null,this.$refs.main.ondrop=null,this.$refs.main.ondragenter=null,this.$refs.main.ondragleave=null,t&&(document.ondragover=function(t){t.preventDefault()},document.ondrop=function(t){t.preventDefault()},this.$refs.main.ondragover=function(t){t.preventDefault()},this.$refs.main.ondrop=this._dropHandle,this.$refs.main.ondragenter=this._dragEnter,this.$refs.main.ondragleave=this._dragLeave)},_dragEnter:function(){this.classDrapEnter=!0},_dragLeave:function(){this.classDrapEnter=!1},_dropHandle:function(t){this.reset();var e=t.dataTransfer.files;if(e.length>0){var i=e[0];0==i.type.indexOf("image/")&&this.upload(null,i)}}}},yc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bp-uploader-image-crop",class:{"bp-uploader-image__disabled":t.disabled,"bp-uploader-image__drag":t.classDrapEnter},on:{click:function(e){return e.stopPropagation(),t.browseFile.apply(null,arguments)}}},[i("div",{staticClass:"bp-uploader-image__progress",style:{width:t.percentage}}),t._v(" "),i("div",{ref:"main",staticClass:"bp-uploader-image__file-content-main",staticStyle:{width:"100%",height:"100%"}},[t.isUploading?i("div",{staticClass:"bp-uploader-image__add-icon",attrs:{"data-action":"uploading"},on:{click:function(e){return e.stopPropagation(),t.reset()}}},[i("bp-icon",{attrs:{name:"bp-uploader_cancel",width:"22px",height:"22px"}})],1):t.coverRealUrl&&t.coverRealUrl.length>0?i("img",{staticClass:"bp-uploader-image__cover",attrs:{src:t.coverRealUrl,alt:"",title:t.tip}}):i("div",{staticClass:"bp-uploader-image__add-icon",attrs:{title:t.tip}},[i("bp-icon",{attrs:{name:"bp-uploader_add",width:"22px",height:"22px"}})],1),t._v(" "),i("form",{ref:"form",staticClass:"bp-uploader-image__fileform",style:{visibility:"hidden",position:"absolute",width:"100%",height:"100%",top:0,left:0,opacity:0},attrs:{method:"post",role:"form",enctype:"multipart/form-data"}},[i("input",{ref:"fileInput",staticClass:"bp-uploader-image__img_input",attrs:{type:"file",name:"file",accept:"image/*"},on:{change:t.upload}})])]),t._v(" "),t._t("default")],2)};yc._withStripped=!0;var bc=oc({render:yc,staticRenderFns:[]},void 0,mc,void 0,!1,void 0,!1,void 0,void 0,void 0);function wc(){bpLibs.icons.registerAliasIcon("bp-uploader_add","plus"),bpLibs.icons.registerAliasIcon("bp-uploader_cancel","cancel"),bpLibs.icons.registerAliasIcon("bp-uploader_ok","ok")}return wc(),{init:wc,bpFileUploader:lc,bpImageCropUploader:bc,bpImageCropPreview:febs.utils.browserIsMobile()?gc:fc,bpImageCropPreviewTablet:fc,bpImageCropPreviewMobile:gc}}));
